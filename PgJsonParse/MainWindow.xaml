<p:RootControl x:Class="PgJsonParse.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:p="clr-namespace:Presentation;assembly=Presentation"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        xmlns:conv="clr-namespace:Converters"
        xmlns:app="clr-namespace:PgJsonParse"
        xmlns:obj="clr-namespace:PgJsonObjects;assembly=PgJsonObjects">
    <p:RootControl.Resources>
        <conv:BooleanToObjectConverter x:Key="convBooleanToObject"/>
        <conv:IndexToObjectConverter x:Key="convIndexToObject"/>
        <conv:EnumToTextConverter x:Key="convEnumToText"/>
        <conv:FriendlyNameConverter x:Key="convFriendlyName"/>
        <conv:FileNameToBitmapImageConverter x:Key="convFileNameToBitmapImage"/>
        <conv:NullableIntConverter x:Key="convNullableInt"/>
        <conv:NullableBooleanToObjectConverter x:Key="convNullableBooleanToObject"/>
        <conv:FloatListToStringConverter x:Key="convFloatListToString"/>
        <conv:IntToObjectConverter x:Key="convIntToObject"/>
        <conv:NullToObjectConverter x:Key="convNullToObject"/>
        <conv:DoubleConverter x:Key="convDouble"/>
        <conv:RgbColorToBrushConverter x:Key="convRgbColorToBrush"/>
        <conv:ReplaceMacroConverter x:Key="convReplaceMacro"/>
        <conv:NullableTimeSpanToDurationConverter x:Key="convNullableTimeSpanToDuration"/>
        <p:ValueConverterGroup x:Key="convchainIsEnumInSetVisibility">
            <conv:IsEnumInSetConverter/>
            <conv:BooleanToVisibilityConverter/>
        </p:ValueConverterGroup>
        <p:ValueConverterGroup x:Key="convchainNotIsEnumInSetVisibility">
            <conv:IsEnumInSetConverter/>
            <conv:BooleanInvertedConverter/>
            <conv:BooleanToVisibilityConverter/>
        </p:ValueConverterGroup>
        <p:ValueConverterGroup x:Key="convchainIntThresholdVisibility">
            <conv:IntThresholdConverter/>
            <conv:BooleanToVisibilityConverter/>
        </p:ValueConverterGroup>
        <p:ValueConverterGroup x:Key="convchainNotIntThresholdVisibility">
            <conv:IntThresholdConverter/>
            <conv:BooleanInvertedConverter/>
            <conv:BooleanToVisibilityConverter/>
        </p:ValueConverterGroup>
        <p:ApplicationCommand x:Key="AddPowerCommand"/>
        <p:ApplicationCommand x:Key="RemovePowerCommand"/>
        <p:ApplicationCommand x:Key="LoadBuildCommand"/>
        <p:ApplicationCommand x:Key="SaveBuildCommand"/>
        <p:ApplicationCommand x:Key="CopyBuildCommand"/>
        <p:ApplicationCommand x:Key="CrunchCommand"/>
        <p:ApplicationCommand x:Key="OpenProfileFolderCommand"/>
        <p:ApplicationCommand x:Key="BackwardCommand"/>
        <p:ApplicationCommand x:Key="ForwardCommand"/>
        <p:ApplicationCommand x:Key="GoToCommand"/>
        <app:CustomCompositeCollection x:Key="VisibleCollapsed">
            <Visibility>Visible</Visibility>
            <Visibility>Collapsed</Visibility>
        </app:CustomCompositeCollection>
        <app:CustomCompositeCollection x:Key="CollapsedVisible">
            <Visibility>Collapsed</Visibility>
            <Visibility>Visible</Visibility>
        </app:CustomCompositeCollection>
        <app:CustomCompositeCollection x:Key="CollapsedVisibleCollapsed">
            <Visibility>Collapsed</Visibility>
            <Visibility>Visible</Visibility>
            <Visibility>Collapsed</Visibility>
        </app:CustomCompositeCollection>
        <app:CustomCompositeCollection x:Key="CollapsedCollapsedVisible">
            <Visibility>Collapsed</Visibility>
            <Visibility>Collapsed</Visibility>
            <Visibility>Visible</Visibility>
        </app:CustomCompositeCollection>
        <app:CustomCompositeCollection x:Key="NoYes">
            <sys:String>No</sys:String>
            <sys:String>Yes</sys:String>
        </app:CustomCompositeCollection>
        <app:CustomCompositeCollection x:Key="NoYesNull">
            <sys:String>No</sys:String>
            <sys:String>Yes</sys:String>
            <sys:String>&#x2009;</sys:String>
        </app:CustomCompositeCollection>
        <app:CustomCompositeCollection x:Key="ModColorCodes">
            <SolidColorBrush Color="White"/>
            <SolidColorBrush Color="Lime"/>
            <SolidColorBrush Color="Cyan"/>
            <SolidColorBrush Color="#E68080"/>
            <SolidColorBrush Color="Magenta"/>
            <SolidColorBrush Color="Yellow"/>
        </app:CustomCompositeCollection>
        <app:CustomCompositeCollection x:Key="FalseTrue">
            <sys:Boolean>False</sys:Boolean>
            <sys:Boolean>True</sys:Boolean>
        </app:CustomCompositeCollection>
        <app:CustomCompositeCollection x:Key="RecipeItemKey_EquipmentSlot">
            <obj:RecipeItemKey>EquipmentSlot_MainHand</obj:RecipeItemKey>
            <obj:RecipeItemKey>EquipmentSlot_OffHand</obj:RecipeItemKey>
            <obj:RecipeItemKey>EquipmentSlot_Hands</obj:RecipeItemKey>
            <obj:RecipeItemKey>EquipmentSlot_Chest</obj:RecipeItemKey>
            <obj:RecipeItemKey>EquipmentSlot_Legs</obj:RecipeItemKey>
            <obj:RecipeItemKey>EquipmentSlot_Head</obj:RecipeItemKey>
            <obj:RecipeItemKey>EquipmentSlot_Feet</obj:RecipeItemKey>
            <obj:RecipeItemKey>EquipmentSlot_Ring</obj:RecipeItemKey>
            <obj:RecipeItemKey>EquipmentSlot_Necklace</obj:RecipeItemKey>
        </app:CustomCompositeCollection>
        <app:CustomCompositeCollection x:Key="RecipeItemKey_Rarity">
            <obj:RecipeItemKey>Rarity_Common</obj:RecipeItemKey>
            <obj:RecipeItemKey>Rarity_Uncommon</obj:RecipeItemKey>
            <obj:RecipeItemKey>Rarity_Rare</obj:RecipeItemKey>
        </app:CustomCompositeCollection>
        <app:CustomCompositeCollection x:Key="RecipeItemKey_MinRarityUncommon">
            <obj:RecipeItemKey>MinRarity_Uncommon</obj:RecipeItemKey>
        </app:CustomCompositeCollection>
        <app:CustomCompositeCollection x:Key="RecipeItemKey_MinRarityRare">
            <obj:RecipeItemKey>MinRarity_Rare</obj:RecipeItemKey>
        </app:CustomCompositeCollection>
        <app:CustomCompositeCollection x:Key="RecipeItemKey_MinRarityExceptional">
            <obj:RecipeItemKey>MinRarity_Exceptional</obj:RecipeItemKey>
        </app:CustomCompositeCollection>
        <app:CustomCompositeCollection x:Key="RecipeItemKey_AnyMagical">
            <obj:RecipeItemKey>EquipmentSlot_MainHand</obj:RecipeItemKey>
            <obj:RecipeItemKey>EquipmentSlot_OffHand</obj:RecipeItemKey>
            <obj:RecipeItemKey>EquipmentSlot_Hands</obj:RecipeItemKey>
            <obj:RecipeItemKey>EquipmentSlot_Chest</obj:RecipeItemKey>
            <obj:RecipeItemKey>EquipmentSlot_Legs</obj:RecipeItemKey>
            <obj:RecipeItemKey>EquipmentSlot_Head</obj:RecipeItemKey>
            <obj:RecipeItemKey>EquipmentSlot_Feet</obj:RecipeItemKey>
            <obj:RecipeItemKey>EquipmentSlot_Ring</obj:RecipeItemKey>
            <obj:RecipeItemKey>EquipmentSlot_Necklace</obj:RecipeItemKey>
            <obj:RecipeItemKey>Rarity_Common</obj:RecipeItemKey>
            <obj:RecipeItemKey>Rarity_Uncommon</obj:RecipeItemKey>
            <obj:RecipeItemKey>Rarity_Rare</obj:RecipeItemKey>
            <obj:RecipeItemKey>MinRarity_Uncommon</obj:RecipeItemKey>
            <obj:RecipeItemKey>MinRarity_Exceptional</obj:RecipeItemKey>
        </app:CustomCompositeCollection>
        <app:CustomCompositeCollection x:Key="GreenRed">
            <SolidColorBrush Color="Green"/>
            <SolidColorBrush Color="Red"/>
        </app:CustomCompositeCollection>
        <BitmapImage x:Key="imgRedo" UriSource="/PgJsonParse;component/Resources/redo.png"/>
        <BitmapImage x:Key="imgUndo" UriSource="/PgJsonParse;component/Resources/undo.png"/>
        <BitmapImage x:Key="imgAttuned" UriSource="/PgJsonParse;component/Resources/Locked.png"/>
        <BitmapImage x:Key="imgGoTo" UriSource="/PgJsonParse;component/Resources/goto.png"/>
        <p:StaticContainer x:Key="imgFavorIcon"/>
        <Style x:Key="styleListBoxItemNotFocusable" TargetType="ListBoxItem"/>
        <Style x:Key="styleListBoxItemHorizontalStretch" TargetType="ListBoxItem">
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
        </Style>
        <DataTemplate x:Key="AttributeLinkTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="{Binding FriendlyName}" TextWrapping="Wrap" Width="300" TextAlignment="Right"/>
                <TextBlock>:</TextBlock>
                <TextBlock Text="{Binding FriendlyEffect}" Width="150" Margin="5,0,0,0"/>
                <TextBlock>Score :</TextBlock>
                <TextBlock Text="{Binding FriendlyScore}" Width="150" Margin="5,0,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SimpleEffectTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="{Binding Description}" TextWrapping="Wrap" Width="300" TextAlignment="Right"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="AppearanceAbilityRequirement_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock>Look like</TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="AppearanceTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="AppearanceAbilityRequirement_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>,</TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="AppearanceTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="AppearanceAbilityRequirement_ItemTemplateLast">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="5,0,0,0">or</TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="AppearanceTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="AppearanceAbilityRequirementTemplate">
            <Grid>
                <StackPanel Visibility="{Binding AppearanceList.Count, Converter={StaticResource convIntToObject}, ConverterParameter={StaticResource CollapsedVisibleCollapsed}, FallbackValue=Collapsed}" Orientation="Horizontal">
                    <TextBlock Text="Look like"/>
                    <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                        <TextBlock.Text>
                            <Binding Path="AppearanceList[0]" Converter="{StaticResource convEnumToText}" ConverterParameter="AppearanceTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                </StackPanel>
                <ItemsControl x:Name="ctrl_AppearanceAbilityRequirement" Visibility="{Binding AppearanceList.Count, Converter={StaticResource convIntToObject}, ConverterParameter={StaticResource CollapsedCollapsedVisible}, FallbackValue=Visible}" ItemsSource="{Binding AppearanceList}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <app:ListMemberSelector x:Name="AppearanceAbilityRequirement" Content="{Binding}"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="CurHealthAbilityRequirementTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>Health ≥</TextBlock>
                <TextBlock Text="{Binding Health}" Margin="5,0,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="DruidEventStateAbilityRequirementTemplate">
            <TextBlock>During druid event</TextBlock>
        </DataTemplate>
        <DataTemplate x:Key="EquippedItemKeywordAbilityRequirementTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>Has</TextBlock>
                <TextBlock Text="{Binding Count}" Margin="5,0,0,0"/>
                <TextBlock Margin="5,0,5,0">
                    <TextBlock.Text>
                        <Binding Path="Keyword" Converter="{StaticResource convEnumToText}" ConverterParameter="AbilityKeywordTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
                <TextBlock>items equipped</TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="FullMoonAbilityRequirementTemplate">
            <TextBlock>Full Moon</TextBlock>
        </DataTemplate>
        <DataTemplate x:Key="GardenPlantMaxAbilityRequirementTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>Maximum summoned</TextBlock>
                <TextBlock Margin="5,0,5,0">
                    <TextBlock.Text>
                        <Binding Path="TypeTag" Converter="{StaticResource convEnumToText}" ConverterParameter="AbilityTypeTagTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
                <TextBlock>x</TextBlock>
                <TextBlock Text="{Binding Max}"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="HasEffectKeywordAbilityRequirementTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>Effect</TextBlock>
                <TextBlock Margin="5,0,5,0">
                    <TextBlock.Text>
                        <Binding Path="Keyword" Converter="{StaticResource convEnumToText}" ConverterParameter="AbilityKeywordTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
                <TextBlock>is active</TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="HasInventorySpaceForAbilityRequirementTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>Has inventory space for</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_HasInventorySpaceForAbilityRequirement_Item" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Item.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="InGraveyardAbilityRequirementTemplate">
            <TextBlock>In Graveyard</TextBlock>
        </DataTemplate>
        <DataTemplate x:Key="InHotspotAbilityRequirementTemplate">
            <TextBlock Text="{Binding Name}"/>
        </DataTemplate>
        <DataTemplate x:Key="InteractionFlagSetAbilityRequirementTemplate">
            <TextBlock Text="{Binding InteractionFlag}"/>
        </DataTemplate>
        <DataTemplate x:Key="InternalAbilityRequirementTemplate">
            <TextBlock Margin="5,0,5,0">
                <TextBlock.Text>
                    <Binding Path="Keyword" Converter="{StaticResource convEnumToText}" ConverterParameter="AbilityItemKeywordTextMap"/>
                </TextBlock.Text>
            </TextBlock>
        </DataTemplate>
        <DataTemplate x:Key="IsAdminAbilityRequirementTemplate">
            <TextBlock>Game Admin Only</TextBlock>
        </DataTemplate>
        <DataTemplate x:Key="IsHardcoreAbilityRequirementTemplate">
            <TextBlock>Be Hardcore</TextBlock>
        </DataTemplate>
        <DataTemplate x:Key="IsLongtimeAnimalAbilityRequirementTemplate">
            <TextBlock>Animal for a long time</TextBlock>
        </DataTemplate>
        <DataTemplate x:Key="IsLycanthropeAbilityRequirementTemplate">
            <TextBlock>Be a Lycanthrope</TextBlock>
        </DataTemplate>
        <DataTemplate x:Key="IsNotInCombatAbilityRequirementTemplate">
            <TextBlock>Out of combat</TextBlock>
        </DataTemplate>
        <DataTemplate x:Key="IsVegetarianAbilityRequirementTemplate">
            <TextBlock>Is Vegetarian</TextBlock>
        </DataTemplate>
        <DataTemplate x:Key="OrAbilityRequirement_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock Height="0">or</TextBlock>
                <ContentControl Content="{Binding}" Margin="5,0,0,0">
                    <ContentControl.ContentTemplate>
                        <DataTemplate>
                            <app:TypeToTemplateNameSelector Content="{Binding}"/>
                        </DataTemplate>
                    </ContentControl.ContentTemplate>
                </ContentControl>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="OrAbilityRequirement_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>or</TextBlock>
                <ContentControl Content="{Binding}" Margin="5,0,0,0">
                    <ContentControl.ContentTemplate>
                        <DataTemplate>
                            <app:TypeToTemplateNameSelector Content="{Binding}"/>
                        </DataTemplate>
                    </ContentControl.ContentTemplate>
                </ContentControl>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="OrAbilityRequirementTemplate">
            <StackPanel>
                <ItemsControl x:Name="ctrl_OrAbilityRequirement" ItemsSource="{Binding OrList}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <app:ListMemberSelector x:Name="OrAbilityRequirement" Content="{Binding}"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                    <TextBlock>Error Message:</TextBlock>
                    <TextBlock Text="{Binding ErrorMsg}" TextWrapping="Wrap" Margin="5,0,0,0"/>
                </StackPanel>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="PetCountAbilityRequirementTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>Max</TextBlock>
                <TextBlock Text="{Binding MaxCount}" Margin="5,0,5,0"/>
                <TextBlock>
                    <TextBlock.Text>
                        <Binding Path="PetTypeTag" Converter="{StaticResource convEnumToText}" ConverterParameter="RecipeKeywordTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="RaceAbilityRequirement_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock>Be</TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="RaceTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="RaceAbilityRequirement_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>,</TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="RaceTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="RaceAbilityRequirement_ItemTemplateLast">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="5,0,0,0">or</TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="RaceTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="RaceAbilityRequirementTemplate">
            <Grid>
                <StackPanel Visibility="{Binding AllowedRaceList.Count, Converter={StaticResource convIntToObject}, ConverterParameter={StaticResource CollapsedVisibleCollapsed}, FallbackValue=Collapsed}" Orientation="Horizontal">
                    <TextBlock Text="Be"/>
                    <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                        <TextBlock.Text>
                            <Binding Path="AllowedRaceList[0]" Converter="{StaticResource convEnumToText}" ConverterParameter="AppearanceTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                </StackPanel>
                <ItemsControl x:Name="ctrl_RaceAbilityRequirement" Visibility="{Binding AppearanceList.Count, Converter={StaticResource convIntToObject}, ConverterParameter={StaticResource CollapsedCollapsedVisible}, FallbackValue=Visible}" ItemsSource="{Binding AllowedRaceList}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <app:ListMemberSelector x:Name="RaceAbilityRequirement" Content="{Binding}"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="RecipeKnownAbilityRequirementTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>Knows recipe</TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                    <Hyperlink x:Name="hyperlink_RecipeKnownAbilityRequirement_RecipeKnown" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="RecipeKnown.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="RecipeCostTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="{Binding Price}"/>
                <TextBlock Margin="5,0,0,0">
                    <TextBlock.Text>
                        <Binding Path="Currency" Converter="{StaticResource convEnumToText}" ConverterParameter="RecipeCurrencyTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="ConsumedItemDirectTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="{Binding Count}" Visibility="{Binding RawCount, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Margin="0,0,5,0"/>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_ConsumedItemDirect_Link" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Link.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <StackPanel Orientation="Horizontal" Visibility="{Binding RawConsumedChance, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Margin="5,0,0,0">
                    <TextBlock>(</TextBlock>
                    <TextBlock Text="{Binding ConsumedChance}"/>
                    <TextBlock>% chance to be consumed)</TextBlock>
                </StackPanel>
                <StackPanel Orientation="Horizontal" Visibility="{Binding RawChanceToStickInCorpse, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Margin="5,0,0,0">
                    <TextBlock>(</TextBlock>
                    <TextBlock Text="{Binding ChanceToStickInCorpse}"/>
                    <TextBlock>% chance to stick in corpse)</TextBlock>
                </StackPanel>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="ConsumedItemByKeywordTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="{Binding Count}" Visibility="{Binding RawCount, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Margin="0,0,5,0"/>
                <TextBlock Margin="5,0,0,0">
                    <TextBlock.Text>
                        <Binding Path="Keyword" Converter="{StaticResource convEnumToText}" ConverterParameter="ConsumedItemsTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
                <StackPanel Orientation="Horizontal" Visibility="{Binding RawConsumedChance, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Margin="5,0,0,0">
                    <TextBlock>(</TextBlock>
                    <TextBlock Text="{Binding ConsumedChance}"/>
                    <TextBlock>% chance to be consumed)</TextBlock>
                </StackPanel>
                <StackPanel Orientation="Horizontal" Visibility="{Binding RawChanceToStickInCorpse, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Margin="5,0,0,0">
                    <TextBlock>(</TextBlock>
                    <TextBlock Text="{Binding ChanceToStickInCorpse}"/>
                    <TextBlock>% chance to stick in corpse)</TextBlock>
                </StackPanel>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="ItemSimpleEffectTemplate">
            <TextBlock Text="{Binding Description}"/>
        </DataTemplate>
        <DataTemplate x:Key="ItemAttributeLinkTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="{Binding Link.LabelRippedOfPercent}"/>
                <TextBlock>:</TextBlock>
                <TextBlock Text="{Binding FriendlyEffect}" Margin="5,0,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="QuestObjectiveTemplate">
            <WrapPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,5,0">
                    <TextBlock Text="{Binding Description}"/>
                    <StackPanel Visibility="{Binding RawNumber, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" Margin="5,0,0,0">
                        <TextBlock>(x</TextBlock>
                        <TextBlock Text="{Binding Number}"/>
                        <TextBlock>)</TextBlock>
                    </StackPanel>
                </StackPanel>
                <TextBlock Text="{Binding TimeCompletion}" TextWrapping="Wrap" FontStyle="Italic" Visibility="{Binding HasMinAndMaxHours, Converter={StaticResource convBooleanToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}"/>
            </WrapPanel>
        </DataTemplate>
        <DataTemplate x:Key="QuestObjectiveKillTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="{Binding Description}"/>
                <TextBlock Margin="5,0,0,0">(</TextBlock>
                <TextBlock>
                    <TextBlock.Text>
                        <Binding Path="Target" Converter="{StaticResource convEnumToText}" ConverterParameter="QuestObjectiveKillTargetTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
                <StackPanel Visibility="{Binding AbilityKeyword, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal">
                    <TextBlock>, using</TextBlock>
                    <TextBlock Text="{Binding AbilityKeyword}" Margin="5,0,0,0"/>
                </StackPanel>
                <TextBlock>, x</TextBlock>
                <TextBlock Text="{Binding Number}"/>
                <StackPanel Visibility="{Binding HasEffectRequirement, Converter={StaticResource convBooleanToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal">
                    <TextBlock>, under effect</TextBlock>
                    <TextBlock Margin="5,0,0,0">
                        <TextBlock.Text>
                            <Binding Path="EffectRequirement" Converter="{StaticResource convEnumToText}" ConverterParameter="EffectKeywordTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                </StackPanel>
                <TextBlock>)</TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="QuestObjectiveTipPlayerTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="{Binding Description}"/>
                <TextBlock Margin="5,0,0,0">(Minimum amount:</TextBlock>
                <TextBlock Margin="5,0,5,0" Text="{Binding MinAmount}"/>
                <TextBlock>golds) x</TextBlock>
                <TextBlock Text="{Binding Number}"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="QuestObjectiveSpecialTemplate">
            <WrapPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,5,0">
                    <TextBlock Text="{Binding Description}"/>
                    <StackPanel Visibility="{Binding RawMinAmount, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" Margin="5,0,0,0">
                        <TextBlock>(min amount:</TextBlock>
                        <TextBlock Text="{Binding MinAmount}" Margin="5,0,0,0"/>
                        <TextBlock>)</TextBlock>
                    </StackPanel>
                    <StackPanel Visibility="{Binding RawMaxAmount, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" Margin="5,0,0,0">
                        <TextBlock>(max amount:</TextBlock>
                        <TextBlock Text="{Binding MaxAmount}" Margin="5,0,0,0"/>
                        <TextBlock>)</TextBlock>
                    </StackPanel>
                    <StackPanel Visibility="{Binding RawNumber, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" Margin="5,0,0,0">
                        <TextBlock>(x</TextBlock>
                        <TextBlock Text="{Binding Number}"/>
                        <TextBlock>)</TextBlock>
                    </StackPanel>
                </StackPanel>
                <TextBlock Text="{Binding TimeCompletion}" TextWrapping="Wrap" FontStyle="Italic" Visibility="{Binding HasMinAndMaxHours, Converter={StaticResource convBooleanToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}"/>
            </WrapPanel>
        </DataTemplate>
        <DataTemplate x:Key="QuestObjectiveMultipleInteractionFlagsTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="{Binding Description}"/>
                <StackPanel Visibility="{Binding RawNumber, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" Margin="5,0,0,0">
                    <TextBlock>(x</TextBlock>
                    <TextBlock Text="{Binding Number}"/>
                    <TextBlock>)</TextBlock>
                </StackPanel>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="QuestObjectiveDeliverTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="{Binding Description}" Margin="0,0,5,0"/>
                <TextBlock>(</TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="0,0,5,0">
                    <Hyperlink x:Name="hyperlink_QuestObjectiveDeliver_DeliverNpc" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="DeliverNpc.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <TextBlock>in</TextBlock>
                <TextBlock Margin="5,0,0,0">
                    <TextBlock.Text>
                        <Binding Path="DeliverNpcArea" Converter="{StaticResource convEnumToText}" ConverterParameter="MapAreaNameTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
                <TextBlock>)</TextBlock>
                <TextBlock TextWrapping="Wrap" VerticalAlignment="Center" Margin="10,0,0,0">
                    <Hyperlink x:Name="hyperlink_QuestObjectiveDeliver_QuestItem" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="QuestItem.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <StackPanel Orientation="Horizontal" Visibility="{Binding NumToDeliver, Converter={StaticResource convIndexToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Margin="5,0,0,0">
                    <TextBlock>(x</TextBlock>
                    <TextBlock Text="{Binding NumToDeliver}"/>
                    <TextBlock>)</TextBlock>
                </StackPanel>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="QuestObjectiveItemTemplate">
            <WrapPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,5,0">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Top">
                        <Expander VerticalAlignment="Center" Width="0"/>
                        <TextBlock Text="{Binding Description}" VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Visibility="{Binding QuestItem, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" VerticalAlignment="Top" Margin="10,0,5,0">
                        <Expander VerticalAlignment="Center" Width="0"/>
                        <TextBlock VerticalAlignment="Center">(</TextBlock>
                        <TextBlock TextWrapping="Wrap" VerticalAlignment="Center">
                            <Hyperlink x:Name="hyperlink_QuestObjectiveItem_QuestItem" Click="OnRequestNavigate" NavigateUri="unused">
                                <Run>
                                    <Binding Path="QuestItem.Name" Mode="OneWay"/>
                                </Run>
                            </Hyperlink>
                        </TextBlock>
                        <TextBlock VerticalAlignment="Center">)</TextBlock>
                    </StackPanel>
                    <Expander Header="{Binding Target, Converter={StaticResource convEnumToText}, ConverterParameter=ItemKeywordTextMap}" Visibility="{Binding TargetItemList.Count, Converter={StaticResource convIntToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" VerticalAlignment="Top" Margin="10,0,0,0">
                        <ItemsControl ItemsSource="{Binding TargetItemList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock TextWrapping="Wrap">
                                        <Hyperlink x:Name="hyperlink_Item_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                                            <Run>
                                                <Binding Path="Name" Mode="OneWay"/>
                                            </Run>
                                        </Hyperlink>
                                    </TextBlock>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </Expander>
                    <StackPanel Visibility="{Binding RawNumber, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" VerticalAlignment="Top" Margin="5,0,0,0">
                        <Expander VerticalAlignment="Center" Width="0"/>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <TextBlock>(x</TextBlock>
                            <TextBlock Text="{Binding Number}"/>
                            <TextBlock>)</TextBlock>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
                <TextBlock Text="{Binding TimeCompletion}" TextWrapping="Wrap" FontStyle="Italic" VerticalAlignment="Center" Visibility="{Binding HasMinAndMaxHours, Converter={StaticResource convBooleanToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}"/>
            </WrapPanel>
        </DataTemplate>
        <DataTemplate x:Key="QuestObjectiveGuildGiveItemTemplate">
            <WrapPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,5,0">
                    <TextBlock Text="{Binding Description}" Margin="0,0,5,0"/>
                    <TextBlock>(</TextBlock>
                    <TextBlock TextWrapping="Wrap">
                        <Hyperlink x:Name="hyperlink_QuestObjectiveGuildGiveItem_QuestItem" Click="OnRequestNavigate" NavigateUri="unused">
                            <Run>
                                <Binding Path="QuestItem.Name" Mode="OneWay"/>
                            </Run>
                        </Hyperlink>
                    </TextBlock>
                    <StackPanel Visibility="{Binding RawNumber, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" Margin="5,0,0,0">
                        <TextBlock>x</TextBlock>
                        <TextBlock Text="{Binding Number}"/>
                    </StackPanel>
                    <TextBlock Margin="5,0,5,0">to</TextBlock>
                    <TextBlock TextWrapping="Wrap">
                        <Hyperlink x:Name="hyperlink_QuestObjectiveGuildGiveItem_DeliverNpc" Click="OnRequestNavigate" NavigateUri="unused">
                            <Run>
                                <Binding Path="DeliverNpc.Name" Mode="OneWay"/>
                            </Run>
                        </Hyperlink>
                    </TextBlock>
                    <TextBlock>)</TextBlock>
                </StackPanel>
            </WrapPanel>
        </DataTemplate>
        <DataTemplate x:Key="QuestObjectiveInteractionFlagTemplate">
            <WrapPanel>
                <TextBlock Text="{Binding Description}" Margin="0,0,5,0"/>
                <TextBlock Text="{Binding TimeCompletion}" TextWrapping="Wrap" FontStyle="Italic" VerticalAlignment="Center" Visibility="{Binding HasMinAndMaxHours, Converter={StaticResource convBooleanToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}"/>
            </WrapPanel>
        </DataTemplate>
        <DataTemplate x:Key="QuestObjectiveGiveGiftTemplate">
            <WrapPanel>
                <TextBlock Text="{Binding Description}" Margin="0,0,5,0"/>
                <StackPanel Visibility="{Binding RawMinFavorReceived, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal">
                    <TextBlock>(Min favor received:</TextBlock>
                    <TextBlock Text="{Binding MinFavorReceived}" Margin="5,0,0,0"/>
                    <TextBlock>)</TextBlock>
                </StackPanel>
                <StackPanel Visibility="{Binding RawMaxFavorReceived, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal">
                    <TextBlock>(Max favor received:</TextBlock>
                    <TextBlock Text="{Binding MaxFavorReceived}" Margin="5,0,0,0"/>
                    <TextBlock>)</TextBlock>
                </StackPanel>
                <TextBlock Text="{Binding TimeCompletion}" TextWrapping="Wrap" FontStyle="Italic" VerticalAlignment="Center" Visibility="{Binding HasMinAndMaxHours, Converter={StaticResource convBooleanToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}"/>
            </WrapPanel>
        </DataTemplate>
        <DataTemplate x:Key="QuestObjectiveUseRecipeTemplate">
            <WrapPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,5,0">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Top">
                        <Expander VerticalAlignment="Center" Width="0"/>
                        <TextBlock Text="{Binding Description}" VerticalAlignment="Center" Margin="0,0,5,0"/>
                        <StackPanel Visibility="{Binding ConnectedSkill, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" VerticalAlignment="Center" Orientation="Horizontal">
                            <TextBlock>(Using</TextBlock>
                            <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                                <Hyperlink x:Name="hyperlink_QuestObjectiveUseRecipe_ConnectedSkill" Click="OnRequestNavigate" NavigateUri="unused">
                                    <Run>
                                        <Binding Path="ConnectedSkill.Name" Mode="OneWay"/>
                                    </Run>
                                </Hyperlink>
                            </TextBlock>
                            <TextBlock>)</TextBlock>
                        </StackPanel>
                    </StackPanel>
                    <Expander Header="{Binding RecipeTarget, Converter={StaticResource convEnumToText}, ConverterParameter=RecipeKeywordTextMap}" Visibility="{Binding RecipeTargetList.Count, Converter={StaticResource convIntToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" VerticalAlignment="Top" Margin="10,0,0,0">
                        <ItemsControl ItemsSource="{Binding RecipeTargetList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock TextWrapping="Wrap">
                                        <Hyperlink x:Name="hyperlink_Item_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                                            <Run>
                                                <Binding Path="Name" Mode="OneWay"/>
                                            </Run>
                                        </Hyperlink>
                                    </TextBlock>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </Expander>
                    <Expander Header="{Binding ResultItemKeyword, Converter={StaticResource convEnumToText}, ConverterParameter=ItemKeywordTextMap}" Visibility="{Binding ResultItemList.Count, Converter={StaticResource convIntToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" VerticalAlignment="Top" Margin="10,0,0,0">
                        <ItemsControl ItemsSource="{Binding ResultItemList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:TypeToTemplateNameSelector Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </Expander>
                    <StackPanel Visibility="{Binding RawNumber, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" VerticalAlignment="Top" Margin="5,0,0,0">
                        <Expander VerticalAlignment="Center" Width="0"/>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <TextBlock>(x</TextBlock>
                            <TextBlock Text="{Binding Number}"/>
                            <TextBlock>)</TextBlock>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
                <TextBlock Text="{Binding TimeCompletion}" TextWrapping="Wrap" FontStyle="Italic" VerticalAlignment="Center" Visibility="{Binding HasMinAndMaxHours, Converter={StaticResource convBooleanToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}"/>
            </WrapPanel>
        </DataTemplate>
        <DataTemplate x:Key="QuestObjectiveUseAbilityTemplate">
            <WrapPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,5,0">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Top">
                        <Expander VerticalAlignment="Center" Width="0"/>
                        <TextBlock Text="{Binding Description}" VerticalAlignment="Center" Margin="0,0,5,0"/>
                    </StackPanel>
                    <Expander Header="{Binding AbilityTarget, Converter={StaticResource convEnumToText}, ConverterParameter=AbilityKeywordTextMap}" Visibility="{Binding AbilityTargetList.Count, Converter={StaticResource convIntToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" VerticalAlignment="Top" Margin="10,0,0,0">
                        <ItemsControl ItemsSource="{Binding AbilityTargetList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock TextWrapping="Wrap">
                                        <Hyperlink x:Name="hyperlink_Item_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                                            <Run>
                                                <Binding Path="Name" Mode="OneWay"/>
                                            </Run>
                                        </Hyperlink>
                                    </TextBlock>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </Expander>
                    <StackPanel Visibility="{Binding RawNumber, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" VerticalAlignment="Top" Margin="5,0,0,0">
                        <Expander VerticalAlignment="Center" Width="0"/>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <TextBlock>(x</TextBlock>
                            <TextBlock Text="{Binding Number}"/>
                            <TextBlock>)</TextBlock>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
                <TextBlock Text="{Binding TimeCompletion}" TextWrapping="Wrap" FontStyle="Italic" VerticalAlignment="Center" Visibility="{Binding HasMinAndMaxHours, Converter={StaticResource convBooleanToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}"/>
            </WrapPanel>
        </DataTemplate>
        <DataTemplate x:Key="QuestObjectiveAnatomyTemplate">
            <WrapPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,5,0">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Top">
                        <Expander VerticalAlignment="Center" Width="0"/>
                        <TextBlock Text="{Binding Description}" VerticalAlignment="Center" Margin="0,0,5,0"/>
                        <StackPanel Visibility="{Binding ConnectedSkill, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" VerticalAlignment="Center" Orientation="Horizontal">
                            <TextBlock>(Creatures of</TextBlock>
                            <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                                <Hyperlink x:Name="hyperlink_QuestObjectiveAnatomy_ConnectedSkill" Click="OnRequestNavigate" NavigateUri="unused">
                                    <Run>
                                        <Binding Path="ConnectedSkill.Name" Mode="OneWay"/>
                                    </Run>
                                </Hyperlink>
                            </TextBlock>
                            <TextBlock>)</TextBlock>
                        </StackPanel>
                    </StackPanel>
                    <StackPanel Visibility="{Binding RawNumber, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" VerticalAlignment="Top" Margin="5,0,0,0">
                        <Expander VerticalAlignment="Center" Width="0"/>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <TextBlock>(x</TextBlock>
                            <TextBlock Text="{Binding Number}"/>
                            <TextBlock>)</TextBlock>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
                <TextBlock Text="{Binding TimeCompletion}" TextWrapping="Wrap" FontStyle="Italic" VerticalAlignment="Center" Visibility="{Binding HasMinAndMaxHours, Converter={StaticResource convBooleanToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}"/>
            </WrapPanel>
        </DataTemplate>
        <DataTemplate x:Key="QuestObjectiveLootTemplate">
            <WrapPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,5,0">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Top">
                        <Expander Width="0" VerticalAlignment="Center"/>
                        <TextBlock Text="{Binding Description}" VerticalAlignment="Center"/>
                        <TextBlock VerticalAlignment="Center" Margin="5,0,0,0">(</TextBlock>
                        <StackPanel Visibility="{Binding RawNumber, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,5,0">
                            <TextBlock>x</TextBlock>
                            <TextBlock Text="{Binding Number}"/>
                        </StackPanel>
                    </StackPanel>
                    <StackPanel Visibility="{Binding QuestItem, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" VerticalAlignment="Top">
                        <Expander Width="0" VerticalAlignment="Center"/>
                        <TextBlock TextWrapping="Wrap" VerticalAlignment="Center">
                            <Hyperlink x:Name="hyperlink_QuestObjectiveItem_QuestItem" Click="OnRequestNavigate" NavigateUri="unused">
                                <Run>
                                    <Binding Path="QuestItem.Name" Mode="OneWay"/>
                                </Run>
                            </Hyperlink>
                        </TextBlock>
                    </StackPanel>
                    <Expander Header="{Binding ItemTarget, Converter={StaticResource convEnumToText}, ConverterParameter=ItemKeywordTextMap}" Visibility="{Binding ItemList.Count, Converter={StaticResource convIntToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" VerticalAlignment="Top">
                        <ItemsControl ItemsSource="{Binding ItemList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock TextWrapping="Wrap">
                                        <Hyperlink x:Name="hyperlink_Item_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                                            <Run>
                                                <Binding Path="Name" Mode="OneWay"/>
                                            </Run>
                                        </Hyperlink>
                                    </TextBlock>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </Expander>
                    <StackPanel Orientation="Horizontal" Visibility="{Binding HasMonsterTypeTag, Converter={StaticResource convBooleanToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" VerticalAlignment="Top" Margin="5,0,0,0">
                        <Expander Width="0" VerticalAlignment="Center"/>
                        <TextBlock VerticalAlignment="Center" Margin="0,0,5,0">from</TextBlock>
                        <TextBlock VerticalAlignment="Center">
                            <TextBlock.Text>
                                <Binding Path="MonsterTypeTag" Converter="{StaticResource convEnumToText}" ConverterParameter="MonsterTypeTagTextMap"/>
                            </TextBlock.Text>
                        </TextBlock>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Top">
                        <Expander Width="0" VerticalAlignment="Center"/>
                        <TextBlock VerticalAlignment="Center">)</TextBlock>
                    </StackPanel>
                </StackPanel>
                <TextBlock Text="{Binding TimeCompletion}" TextWrapping="Wrap" FontStyle="Italic" VerticalAlignment="Center" Visibility="{Binding HasMinAndMaxHours, Converter={StaticResource convBooleanToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}"/>
            </WrapPanel>
        </DataTemplate>
        <DataTemplate x:Key="QuestObjectiveScriptedReceiveItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="{Binding Description}" Margin="0,0,5,0"/>
                <TextBlock>(</TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="0,0,5,0">
                    <Hyperlink x:Name="hyperlink_QuestObjectiveScriptedReceiveItem_DeliverNpc" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="DeliverNpc.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <TextBlock>in</TextBlock>
                <TextBlock Margin="5,0,0,0">
                    <TextBlock.Text>
                        <Binding Path="DeliverNpcArea" Converter="{StaticResource convEnumToText}" ConverterParameter="MapAreaNameTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
                <TextBlock>) to receive</TextBlock>
                <TextBlock TextWrapping="Wrap" VerticalAlignment="Center" Margin="5,0,0,0">
                    <Hyperlink x:Name="hyperlink_QuestObjectiveScriptedReceiveItem_QuestItem" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="QuestItem.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="RecipeItem_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">One of</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Item_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="RecipeItem_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Item_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="RecipeItemTemplate">
            <StackPanel Orientation="Horizontal">
                <p:ToolTipControl ToolTip="This item is attuned to the crafter">
                    <Image Visibility="{Binding AttuneToCrafter, Converter={StaticResource convBooleanToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Source="{StaticResource imgAttuned}" Width="6" Height="8" Margin="0,0,5,0"/>
                </p:ToolTipControl>
                <Grid>
                    <StackPanel Visibility="{Binding Item, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal">
                        <TextBlock TextWrapping="Wrap">
                            <Hyperlink x:Name="hyperlink_RecipeItem_Item" Click="OnRequestNavigate" NavigateUri="unused">
                                <Run>
                                    <Binding Path="Item.Name" Mode="OneWay"/>
                                </Run>
                            </Hyperlink>
                        </TextBlock>
                        <StackPanel Visibility="{Binding RawStackSize, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" Margin="5,0,0,0">
                            <TextBlock>x</TextBlock>
                            <TextBlock Text="{Binding StackSize}"/>
                        </StackPanel>
                        <StackPanel Visibility="{Binding RawChanceToConsume, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" Margin="5,0,0,0">
                            <TextBlock>(</TextBlock>
                            <TextBlock Margin="0,0,5,0">
                                <TextBlock.Text>
                                    <Binding Path="ChanceToConsume" Converter="{StaticResource convDouble}" ConverterParameter="%"/>
                                </TextBlock.Text>
                            </TextBlock>
                            <TextBlock>chance item will be consumed)</TextBlock>
                        </StackPanel>
                        <StackPanel Visibility="{Binding RawDurabilityConsumed, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" Margin="5,0,0,0">
                            <TextBlock>(</TextBlock>
                            <TextBlock Margin="0,0,5,0">
                                <TextBlock.Text>
                                    <Binding Path="DurabilityConsumed" Converter="{StaticResource convDouble}" ConverterParameter="%"/>
                                </TextBlock.Text>
                            </TextBlock>
                            <TextBlock>durability consumed)</TextBlock>
                        </StackPanel>
                    </StackPanel>
                    <Grid Visibility="{Binding Item, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource VisibleCollapsed}, FallbackValue=Visible}">
                        <StackPanel Orientation="Horizontal" Visibility="{Binding ItemKeyList, Converter={StaticResource convchainIsEnumInSetVisibility}, ConverterParameter={StaticResource RecipeItemKey_EquipmentSlot}, FallbackValue=Collapsed}">
                            <TextBlock>Any</TextBlock>
                            <TextBlock Margin="5,0,0,0">
                                <TextBlock.Text>
                                    <Binding Path="ItemKeyList" Converter="{StaticResource convEnumToText}" ConverterParameter="RecipeItemKeyTextMap"/>
                                </TextBlock.Text>
                            </TextBlock>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Visibility="{Binding ItemKeyList, Converter={StaticResource convchainIsEnumInSetVisibility}, ConverterParameter={StaticResource RecipeItemKey_Rarity}, FallbackValue=Collapsed}">
                            <TextBlock>Any</TextBlock>
                            <TextBlock Margin="5,0,5,0">
                                <TextBlock.Text>
                                    <Binding Path="ItemKeyList" Converter="{StaticResource convEnumToText}" ConverterParameter="RecipeItemKeyTextMap"/>
                                </TextBlock.Text>
                            </TextBlock>
                            <TextBlock>item</TextBlock>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Visibility="{Binding ItemKeyList, Converter={StaticResource convchainIsEnumInSetVisibility}, ConverterParameter={StaticResource RecipeItemKey_MinRarityUncommon}, FallbackValue=Collapsed}">
                            <TextBlock>Any magical item</TextBlock>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Visibility="{Binding ItemKeyList, Converter={StaticResource convchainIsEnumInSetVisibility}, ConverterParameter={StaticResource RecipeItemKey_MinRarityExceptional}, FallbackValue=Collapsed}">
                            <TextBlock>Any exceptional item or better</TextBlock>
                        </StackPanel>
                        <Grid Visibility="{Binding ItemKeyList, Converter={StaticResource convchainNotIsEnumInSetVisibility}, ConverterParameter={StaticResource RecipeItemKey_AnyMagical}, FallbackValue=False}">
                            <StackPanel Orientation="Horizontal" Visibility="{Binding MatchingKeyItemList.Count, Converter={StaticResource convchainIntThresholdVisibility}, ConverterParameter=10, FallbackValue=False}">
                                <TextBlock>Any</TextBlock>
                                <TextBlock Margin="5,0,0,0">
                                    <TextBlock.Text>
                                        <Binding Path="ItemKeyList" Converter="{StaticResource convEnumToText}" ConverterParameter="RecipeItemKeyTextMap"/>
                                    </TextBlock.Text>
                                </TextBlock>
                            </StackPanel>
                            <Grid Visibility="{Binding MatchingKeyItemList.Count, Converter={StaticResource convchainNotIntThresholdVisibility}, ConverterParameter=10, FallbackValue=False}">
                                <ItemsControl x:Name="ctrl_RecipeItem" ItemsSource="{Binding MatchingKeyItemList}">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <app:ListMemberSelector x:Name="RecipeItem" Content="{Binding}"/>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                    <ItemsControl.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <WrapPanel/>
                                        </ItemsPanelTemplate>
                                    </ItemsControl.ItemsPanel>
                                </ItemsControl>
                            </Grid>
                        </Grid>
                    </Grid>
                </Grid>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="EffectSourceTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>Obtained with the</TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="5,0,5,0">
                    <Hyperlink x:Name="hyperlink_EffectSource_Effect" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Effect.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <TextBlock>effect</TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="GiftSourceTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>Gift from</TextBlock>
                <TextBlock Visibility="{Binding Npc, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" TextWrapping="Wrap" Margin="5,0,0,0">
                    <Hyperlink x:Name="hyperlink_GiftSource_Npc" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Npc.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <TextBlock Text="{Binding NpcName}" Visibility="{Binding Npc, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource VisibleCollapsed}, FallbackValue=Visible}" Margin="5,0,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="HangOutSourceTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>Hangout from</TextBlock>
                <TextBlock Visibility="{Binding Npc, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" TextWrapping="Wrap" Margin="5,0,0,0">
                    <Hyperlink x:Name="hyperlink_HangOutSource_Npc" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Npc.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <TextBlock Text="{Binding NpcName}" Visibility="{Binding Npc, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource VisibleCollapsed}, FallbackValue=Visible}" Margin="5,0,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="ItemSourceTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>Obtained using</TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                    <Hyperlink x:Name="hyperlink_ItemSource_Item" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Item.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="MiscSourceTemplate">
            <TextBlock>varies</TextBlock>
        </DataTemplate>
        <DataTemplate x:Key="QuestSourceTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>Complete the</TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="5,0,5,0">
                    <Hyperlink x:Name="hyperlink_QuestSource_Quest" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Quest.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <TextBlock>quest</TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="RecipeEffectSourceTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>Use the</TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="5,0,5,0">
                    <Hyperlink x:Name="hyperlink_RecipeEffectSource_Recipe" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Recipe.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <TextBlock>recipe</TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SkillupSourceTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>Learned while progressing in</TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                    <Hyperlink x:Name="hyperlink_SkillupSource_Skill" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Skill.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="TrainingSourceTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>Training from</TextBlock>
                <TextBlock Visibility="{Binding Npc, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" TextWrapping="Wrap" Margin="5,0,0,0">
                    <Hyperlink x:Name="hyperlink_TrainingSource_Npc" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Npc.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <TextBlock Text="{Binding NpcName}" Visibility="{Binding Npc, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource VisibleCollapsed}, FallbackValue=Visible}" Margin="5,0,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="AbilityServerInfoEffectTemplate">
            <Grid Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="110"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Effect:</TextBlock>
                <StackPanel Grid.Column="1" Grid.Row="0" Orientation="Horizontal" Margin="5,0,0,0">
                    <TextBlock TextWrapping="Wrap">
                        <TextBlock.Text>
                            <Binding Path="Type" Converter="{StaticResource convEnumToText}" ConverterParameter="ServerInfoEffectTypeTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <StackPanel Orientation="Horizontal" Visibility="{Binding RawLevel, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}}" Margin="5,0,0,0">
                        <TextBlock>(</TextBlock>
                        <TextBlock Text="{Binding Level}"/>
                        <TextBlock>)</TextBlock>
                    </StackPanel>
                </StackPanel>
                <TextBlock Grid.Column="0" Grid.Row="1" TextAlignment="Right" Margin="0,10,0,0">Learn Ability:</TextBlock>
                <TextBlock Grid.Column="1" Grid.Row="1" TextWrapping="Wrap" Margin="5,10,0,0">
                    <Hyperlink x:Name="hyperlink_ServerInfo_BestowAbility" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="BestowAbility.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="DrinkEffectServerInfoEffectTemplate">
            <Grid Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="110"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Effect:</TextBlock>
                <StackPanel Grid.Column="1" Grid.Row="0" Orientation="Horizontal" Margin="5,0,0,0">
                    <TextBlock TextWrapping="Wrap">
                        <TextBlock.Text>
                            <Binding Path="Type" Converter="{StaticResource convEnumToText}" ConverterParameter="ServerInfoEffectTypeTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <StackPanel Orientation="Horizontal" Visibility="{Binding RawLevel, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}}" Margin="5,0,0,0">
                        <TextBlock>(</TextBlock>
                        <TextBlock Text="{Binding Level}"/>
                        <TextBlock>)</TextBlock>
                    </StackPanel>
                    <TextBlock Margin="5,0,0,0">(</TextBlock>
                    <TextBlock Text="{Binding DrinkATValue}"/>
                    <TextBlock Margin="0,0,5,0">,</TextBlock>
                    <TextBlock Text="{Binding AlcoholPowerValue}"/>
                    <TextBlock>)</TextBlock>
                </StackPanel>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="EquipmentBoost_AttributeLinkGearTemplate">
            <TextBlock Text="{Binding FriendlyNameAndEffect}" TextWrapping="Wrap"/>
        </DataTemplate>
        <DataTemplate x:Key="EquipmentBoost_SimpleEffectGearTemplate">
            <TextBlock Text="{Binding Description}" TextWrapping="Wrap"/>
        </DataTemplate>
        <DataTemplate x:Key="EquipmentBoostServerInfoEffectTemplate">
            <Grid Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="110"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Effect:</TextBlock>
                <StackPanel Grid.Column="1" Grid.Row="0" Orientation="Horizontal" Margin="5,0,0,0">
                    <TextBlock TextWrapping="Wrap">
                        <TextBlock.Text>
                            <Binding Path="Type" Converter="{StaticResource convEnumToText}" ConverterParameter="ServerInfoEffectTypeTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <StackPanel Orientation="Horizontal" Visibility="{Binding RawLevel, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}}" Margin="5,0,0,0">
                        <TextBlock>(</TextBlock>
                        <TextBlock Text="{Binding Level}"/>
                        <TextBlock>)</TextBlock>
                    </StackPanel>
                    <TextBlock Margin="5,0,0,0">(</TextBlock>
                    <ContentControl Content="{Binding Boost}">
                        <ContentControl.ContentTemplate>
                            <DataTemplate>
                                <app:EquipmentBoost_ItemEffectGearSelector Content="{Binding}"/>
                            </DataTemplate>
                        </ContentControl.ContentTemplate>
                    </ContentControl>
                    <TextBlock Margin="0,0,5,0">,</TextBlock>
                    <TextBlock Text="{Binding AttributeEffect}"/>
                    <TextBlock>)</TextBlock>
                </StackPanel>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="IntervalServerInfoEffectTemplate">
            <Grid Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="110"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Effect:</TextBlock>
                <StackPanel Grid.Column="1" Grid.Row="0" Orientation="Horizontal" Margin="5,0,0,0">
                    <TextBlock TextWrapping="Wrap">
                        <TextBlock.Text>
                            <Binding Path="Type" Converter="{StaticResource convEnumToText}" ConverterParameter="ServerInfoEffectTypeTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <StackPanel Orientation="Horizontal" Visibility="{Binding RawLevel, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}}" Margin="5,0,0,0">
                        <TextBlock>(</TextBlock>
                        <TextBlock Text="{Binding Level}"/>
                        <TextBlock>)</TextBlock>
                    </StackPanel>
                    <TextBlock Margin="5,0,5,0">(between</TextBlock>
                    <TextBlock Text="{Binding LowValue}"/>
                    <TextBlock Margin="5,0,5,0">and</TextBlock>
                    <TextBlock Text="{Binding HighValue}"/>
                    <TextBlock>)</TextBlock>
                </StackPanel>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="PoetryServerInfoEffectTemplate">
            <Grid Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="110"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Effect:</TextBlock>
                <StackPanel Grid.Column="1" Grid.Row="0" Orientation="Horizontal" Margin="5,0,0,0">
                    <TextBlock TextWrapping="Wrap">
                        <TextBlock.Text>
                            <Binding Path="Type" Converter="{StaticResource convEnumToText}" ConverterParameter="ServerInfoEffectTypeTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <StackPanel Orientation="Horizontal" Visibility="{Binding RawLevel, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}}" Margin="5,0,0,0">
                        <TextBlock>(</TextBlock>
                        <TextBlock Text="{Binding Level}"/>
                        <TextBlock>)</TextBlock>
                    </StackPanel>
                </StackPanel>
                <TextBlock Grid.Column="0" Grid.Row="1" TextAlignment="Right" Margin="0,10,0,0">Poetry XP:</TextBlock>
                <TextBlock Grid.Column="1" Grid.Row="1" Text="{Binding PoetryXpValue}" TextWrapping="Wrap" Margin="5,10,0,0"/>
                <TextBlock Grid.Column="0" Grid.Row="2" TextAlignment="Right" Margin="0,10,0,0">Recital XP:</TextBlock>
                <TextBlock Grid.Column="1" Grid.Row="2" Text="{Binding RecitalXpValue}" TextWrapping="Wrap" Margin="5,10,0,0"/>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="SimpleServerInfoEffectTemplate">
            <Grid Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="110"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Effect:</TextBlock>
                <StackPanel Grid.Column="1" Grid.Row="0" Orientation="Horizontal" Margin="5,0,0,0">
                    <TextBlock TextWrapping="Wrap">
                        <TextBlock.Text>
                            <Binding Path="Type" Converter="{StaticResource convEnumToText}" ConverterParameter="ServerInfoEffectTypeTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <StackPanel Orientation="Horizontal" Visibility="{Binding RawLevel, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}}" Margin="5,0,0,0">
                        <TextBlock>(</TextBlock>
                        <TextBlock Text="{Binding Level}"/>
                        <TextBlock>)</TextBlock>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="SkillAndLevelServerInfoEffectTemplate">
            <Grid Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="110"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Effect:</TextBlock>
                <StackPanel Grid.Column="1" Grid.Row="0" Orientation="Horizontal" Margin="5,0,0,0">
                    <TextBlock TextWrapping="Wrap">
                        <TextBlock.Text>
                            <Binding Path="Type" Converter="{StaticResource convEnumToText}" ConverterParameter="ServerInfoEffectTypeTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <StackPanel Orientation="Horizontal" Visibility="{Binding RawLevel, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}}" Margin="5,0,0,0">
                        <TextBlock>(</TextBlock>
                        <TextBlock Text="{Binding Level}"/>
                        <TextBlock>)</TextBlock>
                    </StackPanel>
                </StackPanel>
                <TextBlock Grid.Column="0" Grid.Row="1" TextAlignment="Right" Margin="0,10,0,0">Skill:</TextBlock>
                <StackPanel Grid.Column="1" Grid.Row="1" Orientation="Horizontal" Margin="5,10,0,0">
                    <TextBlock TextWrapping="Wrap">
                        <Hyperlink x:Name="hyperlink_SkillAndLevelServerInfoEffect_ConnectedSkill" Click="OnRequestNavigate" NavigateUri="unused">
                            <Run>
                                <Binding Path="ConnectedSkill.Name" Mode="OneWay"/>
                            </Run>
                        </Hyperlink>
                    </TextBlock>
                    <TextBlock Margin="5,0,0,0">(</TextBlock>
                    <TextBlock Text="{Binding SkillLevel}"/>
                    <TextBlock>)</TextBlock>
                </StackPanel>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="Temporary_AttributeLinkGearTemplate">
            <TextBlock Text="{Binding FriendlyNameAndEffect}" TextWrapping="Wrap"/>
        </DataTemplate>
        <DataTemplate x:Key="Temporary_SimpleEffectGearTemplate">
            <TextBlock Text="{Binding Description}" TextWrapping="Wrap"/>
        </DataTemplate>
        <DataTemplate x:Key="TemporaryServerInfoEffectTemplate">
            <Grid Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="110"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Effect:</TextBlock>
                <StackPanel Grid.Column="1" Grid.Row="0" Orientation="Horizontal" Margin="5,0,0,0">
                    <TextBlock TextWrapping="Wrap">
                        <TextBlock.Text>
                            <Binding Path="Type" Converter="{StaticResource convEnumToText}" ConverterParameter="ServerInfoEffectTypeTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <StackPanel Orientation="Horizontal" Visibility="{Binding RawLevel, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}}" Margin="5,0,0,0">
                        <TextBlock>(</TextBlock>
                        <TextBlock Text="{Binding Level}"/>
                        <TextBlock>)</TextBlock>
                    </StackPanel>
                    <TextBlock Margin="5,0,0,0">(</TextBlock>
                    <ContentControl Content="{Binding Boost}">
                        <ContentControl.ContentTemplate>
                            <DataTemplate>
                                <app:Temporary_ItemEffectGearSelector Content="{Binding}"/>
                            </DataTemplate>
                        </ContentControl.ContentTemplate>
                    </ContentControl>
                    <TextBlock Margin="0,0,5,0">,</TextBlock>
                    <TextBlock Text="{Binding AttributeEffect}"/>
                    <TextBlock>)</TextBlock>
                </StackPanel>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="ValueServerInfoEffectTemplate">
            <Grid Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="110"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Effect:</TextBlock>
                <StackPanel Grid.Column="1" Grid.Row="0" Orientation="Horizontal" Margin="5,0,0,0">
                    <TextBlock TextWrapping="Wrap">
                        <TextBlock.Text>
                            <Binding Path="Type" Converter="{StaticResource convEnumToText}" ConverterParameter="ServerInfoEffectTypeTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <StackPanel Orientation="Horizontal" Visibility="{Binding RawLevel, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}}" Margin="5,0,0,0">
                        <TextBlock>(</TextBlock>
                        <TextBlock Text="{Binding Level}"/>
                        <TextBlock>)</TextBlock>
                    </StackPanel>
                </StackPanel>
                <TextBlock Grid.Column="0" Grid.Row="1" TextAlignment="Right" Margin="0,10,0,0">Value:</TextBlock>
                <TextBlock Grid.Column="1" Grid.Row="1" Text="{Binding Value}" TextWrapping="Wrap" Margin="5,10,0,0"/>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="ServerInfo_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Item_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="ServerInfo_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Item_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="ServerInfoTemplate">
            <StackPanel>
                <Grid Visibility="{Binding GiveItemList.Count, Converter={StaticResource convchainIntThresholdVisibility}, ConverterParameter=1, FallbackValue=False}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="110"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" TextAlignment="Right" Margin="0,0,0,0">Give Item(s):</TextBlock>
                    <StackPanel Grid.Column="1" Orientation="Horizontal" Margin="5,0,0,0">
                        <ItemsControl x:Name="ctrl_ServerInfo" ItemsSource="{Binding GiveItemList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:ListMemberSelector x:Name="ServerInfo" Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                        <StackPanel Visibility="{Binding RawNumItemsToGive, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" Margin="5,0,0,0">
                            <TextBlock>(x</TextBlock>
                            <TextBlock Text="{Binding NumItemsToGive}"/>
                            <TextBlock>)</TextBlock>
                        </StackPanel>
                    </StackPanel>
                </Grid>
                <Grid Margin="0,10,0,0" Visibility="{Binding RequiredHotspot, Converter={StaticResource convchainIntThresholdVisibility}, ConverterParameter=1, FallbackValue=False}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="110"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" TextAlignment="Right">Required Hotspot:</TextBlock>
                    <TextBlock Grid.Column="1" TextWrapping="Wrap" Margin="5,0,0,0">
                        <TextBlock.Text>
                            <Binding Path="RequiredHotspot" Converter="{StaticResource convEnumToText}" ConverterParameter="ItemRequiredHotspotTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                </Grid>
                <Grid Margin="0,10,0,0" Visibility="{Binding OtherRequirementList.Count, Converter={StaticResource convchainIntThresholdVisibility}, ConverterParameter=1, FallbackValue=False}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="110"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" TextAlignment="Right">Other Requirements:</TextBlock>
                    <ItemsControl Grid.Column="1" ItemsSource="{Binding OtherRequirementList}" Margin="5,0,0,0">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <app:TypeToTemplateNameSelector Content="{Binding}"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                    </ItemsControl>
                </Grid>
                <ItemsControl ItemsSource="{Binding ServerInfoEffectList}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <app:TypeToTemplateNameSelector Content="{Binding}"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="ItemBehavior_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock>
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="ItemUseRequirementTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="ItemBehavior_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock>
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="ItemUseRequirementTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="ItemBehaviorTemplate">
            <Expander Header="{Binding UseVerb, Converter={StaticResource convEnumToText}, ConverterParameter=ItemUseVerbTextMap}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="100"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,10,0,0">Use Delay Animation:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="0" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="UseDelayAnimation" Converter="{StaticResource convEnumToText}" ConverterParameter="ItemUseAnimationTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="1" TextAlignment="Right" Margin="0,10,0,0">Use Animation:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="1" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="UseAnimation" Converter="{StaticResource convEnumToText}" ConverterParameter="ItemUseAnimationTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="2" TextAlignment="Right" Margin="0,10,0,0">Use Requirements:</TextBlock>
                    <Grid Grid.Column="1" Grid.Row="2" Margin="5,10,0,0">
                        <ItemsControl x:Name="ctrl_ItemBehavior" ItemsSource="{Binding UseRequirementList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:ListMemberSelector x:Name="ItemBehavior" Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                    </Grid>
                    <TextBlock Grid.Column="0" Grid.Row="3" TextAlignment="Right" Margin="0,10,0,0">Metabolism Cost:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="3" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawMetabolismCost" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="4" TextAlignment="Right" Margin="0,10,0,0">Use Delay:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="4" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawUseDelay" Converter="{StaticResource convDouble}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <ContentControl Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="5" Content="{Binding ServerInfo}" ContentTemplate="{StaticResource ServerInfoTemplate}" Margin="0,10,0,0"/>
                </Grid>
            </Expander>
        </DataTemplate>
        <DataTemplate x:Key="OrQuestRequirement_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock Height="0">or</TextBlock>
                <ContentControl Content="{Binding}" Margin="5,0,0,0">
                    <ContentControl.ContentTemplate>
                        <DataTemplate>
                            <app:TypeToTemplateNameSelector Content="{Binding}"/>
                        </DataTemplate>
                    </ContentControl.ContentTemplate>
                </ContentControl>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="OrQuestRequirement_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>or</TextBlock>
                <ContentControl Content="{Binding}" Margin="5,0,0,0">
                    <ContentControl.ContentTemplate>
                        <DataTemplate>
                            <app:TypeToTemplateNameSelector Content="{Binding}"/>
                        </DataTemplate>
                    </ContentControl.ContentTemplate>
                </ContentControl>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="OrQuestRequirementTemplate">
            <Grid>
                <Grid.Resources>
                </Grid.Resources>
                <ItemsControl x:Name="ctrl_OrQuestRequirement" ItemsSource="{Binding OrList}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <app:ListMemberSelector x:Name="OrQuestRequirement" Content="{Binding}"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="GuildQuestCompletedQuestRequirement_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Quest_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="GuildQuestCompletedQuestRequirement_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Quest_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="GuildQuestCompletedQuestRequirementTemplate">
            <Grid>
                <ItemsControl x:Name="ctrl_GuildQuestCompletedQuestRequirement" ItemsSource="{Binding QuestList}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <app:ListMemberSelector x:Name="GuildQuestCompletedQuestRequirement" Content="{Binding}"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="QuestCompletedQuestRequirement_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Quest_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="QuestCompletedQuestRequirement_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Quest_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="QuestCompletedQuestRequirementTemplate">
            <Grid>
                <ItemsControl x:Name="ctrl_QuestCompletedQuestRequirement" ItemsSource="{Binding QuestList}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <app:ListMemberSelector x:Name="QuestCompletedQuestRequirement" Content="{Binding}"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="HasEffectKeywordQuestRequirementTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>Effect</TextBlock>
                <TextBlock Margin="5,0,5,0">
                    <TextBlock.Text>
                        <Binding Path="Keyword" Converter="{StaticResource convEnumToText}" ConverterParameter="EffectKeywordTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
                <TextBlock>is active</TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="IsLongTimeAnimalQuestRequirementTemplate">
            <TextBlock>Animal for a long time</TextBlock>
        </DataTemplate>
        <DataTemplate x:Key="MinFavorLevelQuestRequirementTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">At least</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <TextBlock.Text>
                        <Binding Path="FavorLevel" Converter="{StaticResource convEnumToText}" ConverterParameter="FavorTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
                <TextBlock Margin="5,0,5,0">with</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_MinFavorLevelQuestRequirement_FavorNpc" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="FavorNpc.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <TextBlock Margin="5,0,5,0">in</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <TextBlock.Text>
                        <Binding Path="FavorNpcArea" Converter="{StaticResource convEnumToText}" ConverterParameter="MapAreaNameTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="MinSkillLevelQuestRequirementTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_MinSkillLevelQuestRequirement_ConnectedSkill" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="ConnectedSkill.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <TextBlock Margin="5,0,5,0">at level</TextBlock>
                <TextBlock Text="{Binding SkillLevel}"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="RunTimeBehaviorRuleSetQuestRequirementTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="{Binding Rule}" Margin="0,0,5,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="InteractionFlagSetQuestRequirementTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>Flag:</TextBlock>
                <TextBlock Text="{Binding InteractionFlag}" Margin="5,0,5,0"/>
            </StackPanel>
        </DataTemplate>
        <ControlTemplate x:Key="XpTableToggleButton" TargetType="ToggleButton">
            <Grid>
                <VisualStateManager.VisualStateGroups>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Normal">
                            <Storyboard>
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Arrow" Storyboard.TargetProperty="Fill" Duration="0">
                                    <DiscreteObjectKeyFrame KeyTime="0">
                                        <DiscreteObjectKeyFrame.Value>
                                            <SolidColorBrush Color="DarkGray"/>
                                        </DiscreteObjectKeyFrame.Value>
                                    </DiscreteObjectKeyFrame>
                                </ObjectAnimationUsingKeyFrames>
                            </Storyboard>
                        </VisualState>
                        <VisualState x:Name="MouseOver">
                            <Storyboard>
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Arrow" Storyboard.TargetProperty="Fill" Duration="0">
                                    <DiscreteObjectKeyFrame KeyTime="0">
                                        <DiscreteObjectKeyFrame.Value>
                                            <SolidColorBrush Color="Black"/>
                                        </DiscreteObjectKeyFrame.Value>
                                    </DiscreteObjectKeyFrame>
                                </ObjectAnimationUsingKeyFrames>
                            </Storyboard>
                        </VisualState>
                        <VisualState x:Name="Pressed">
                            <Storyboard>
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Arrow" Storyboard.TargetProperty="Fill" Duration="0">
                                    <DiscreteObjectKeyFrame KeyTime="0">
                                        <DiscreteObjectKeyFrame.Value>
                                            <SolidColorBrush Color="DarkGray"/>
                                        </DiscreteObjectKeyFrame.Value>
                                    </DiscreteObjectKeyFrame>
                                </ObjectAnimationUsingKeyFrames>
                            </Storyboard>
                        </VisualState>
                    </VisualStateGroup>
                    <VisualStateGroup x:Name="CheckStates">
                        <VisualState x:Name="Unchecked">
                            <Storyboard>
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Border" Storyboard.TargetProperty="Background" Duration="0">
                                    <DiscreteObjectKeyFrame KeyTime="0">
                                        <DiscreteObjectKeyFrame.Value>
                                            <SolidColorBrush Color="White"/>
                                        </DiscreteObjectKeyFrame.Value>
                                    </DiscreteObjectKeyFrame>
                                </ObjectAnimationUsingKeyFrames>
                            </Storyboard>
                        </VisualState>
                        <VisualState x:Name="Checked">
                            <Storyboard>
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Border" Storyboard.TargetProperty="Background" Duration="0">
                                    <DiscreteObjectKeyFrame KeyTime="0">
                                        <DiscreteObjectKeyFrame.Value>
                                            <SolidColorBrush Color="LightGray"/>
                                        </DiscreteObjectKeyFrame.Value>
                                    </DiscreteObjectKeyFrame>
                                </ObjectAnimationUsingKeyFrames>
                            </Storyboard>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateManager.VisualStateGroups>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="20"/>
                </Grid.ColumnDefinitions>
                <Border x:Name="Border" Grid.ColumnSpan="2" CornerRadius="2" Background="White" BorderBrush="Black" BorderThickness="1"/>
                <Border Grid.Column="0" CornerRadius="2,0,0,2" Margin="1" Background="White" BorderBrush="Black" BorderThickness="0,0,1,0"/>
                <Path x:Name="Arrow" Grid.Column="1" Fill="Gray" HorizontalAlignment="Center" VerticalAlignment="Center" Data="M 0 0 L 4 4 L 8 0 Z"/>
            </Grid>
        </ControlTemplate>
        <DataTemplate x:Key="GearNameTemplate">
            <TextBlock Text="{Binding Name}"/>
        </DataTemplate>
        <DataTemplate x:Key="PlanerHeaderTemplate">
            <StackPanel Orientation="Horizontal">
                <Image Source="{Binding IconFileName, Converter={StaticResource convFileNameToBitmapImage}}"/>
                <TextBlock VerticalAlignment="Center" Margin="10,0,20,0">
                    <TextBlock.Text>
                        <Binding Path="SlotName" Converter="{StaticResource convFriendlyName}"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="PowerNameTemplate">
            <TextBlock Text="{Binding Name}"/>
        </DataTemplate>
        <DataTemplate x:Key="FullPowerTemplate">
            <DockPanel>
                <Ellipse DockPanel.Dock="Left" Fill="LightBlue" VerticalAlignment="Top" Width="5" Height="5" Margin="9,12,7,0"/>
                <ItemsControl DockPanel.Dock="Left" ItemsSource="{Binding IconFileNameList}" VerticalAlignment="Top" Margin="0,5,0,5">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Image Source="{Binding Converter={StaticResource convFileNameToBitmapImage}}" Width="32" Height="32"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Horizontal"/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
                <TextBlock Text="{Binding Name}" Foreground="Lime" FontSize="22" FontFamily="Tahoma" TextWrapping="Wrap" VerticalAlignment="Top" Margin="30,3,0,0"/>
            </DockPanel>
        </DataTemplate>
        <DataTemplate x:Key="Planer_AttributeLinkGearTemplate">
            <StackPanel Orientation="Horizontal">
                <Ellipse Fill="LightBlue" VerticalAlignment="Top" Width="5" Height="5" Margin="15,10,5,0"/>
                <ItemsControl ItemsSource="{Binding Link.IconFileNameList}" Margin="0,5,0,5">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Image Source="{Binding Converter={StaticResource convFileNameToBitmapImage}}" Width="32" Height="32"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Horizontal"/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
                <TextBlock Text="{Binding FriendlyNameAndEffect}" Foreground="#B19167" FontSize="22" FontFamily="Tahoma" TextWrapping="Wrap" Margin="25,5,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="Planer_SimpleEffectGearTemplate">
            <TextBlock Text="{Binding Description}" Foreground="#B19167" FontSize="22" FontFamily="Tahoma" TextWrapping="Wrap" Margin="10,0,10,0"/>
        </DataTemplate>
        <DataTemplate x:Key="PlanerTemplate">
            <Grid Margin="10,10,10,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="548"/>
                    <ColumnDefinition Width="250"/>
                </Grid.ColumnDefinitions>
                <DockPanel Grid.Column="0" Margin="0,0,5,0">
                    <Expander DockPanel.Dock="Bottom" Header="Other mods" Margin="0,10,0,0">
                        <TabControl Margin="0,10,0,0" Loaded="OnTabControlLoaded">
                            <TabItem Header="Generic">
                                <Grid>
                                    <p:ListBox ItemsSource="{Binding AvailablePowerList3}" ItemTemplate="{StaticResource PowerNameTemplate}" ControlSelectedIndex="{Binding AvailablePowerIndex3, Mode=TwoWay}" BorderBrush="{x:Null}" BorderThickness="0"/>
                                    <ListBox Width="0" ItemsSource="{Binding AvailablePowerList4}" ItemTemplate="{StaticResource PowerNameTemplate}" BorderBrush="{x:Null}" BorderThickness="0"/>
                                    <ListBox Width="0" ItemsSource="{Binding AvailablePowerList5}" ItemTemplate="{StaticResource PowerNameTemplate}" BorderBrush="{x:Null}" BorderThickness="0"/>
                                </Grid>
                            </TabItem>
                            <TabItem Header="Endurance">
                                <Grid>
                                    <ListBox Width="0" ItemsSource="{Binding AvailablePowerList3}" ItemTemplate="{StaticResource PowerNameTemplate}" BorderBrush="{x:Null}" BorderThickness="0"/>
                                    <p:ListBox ItemsSource="{Binding AvailablePowerList4}" ItemTemplate="{StaticResource PowerNameTemplate}" ControlSelectedIndex="{Binding AvailablePowerIndex4, Mode=TwoWay}" BorderBrush="{x:Null}" BorderThickness="0"/>
                                    <ListBox Width="0" ItemsSource="{Binding AvailablePowerList5}" ItemTemplate="{StaticResource PowerNameTemplate}" BorderBrush="{x:Null}" BorderThickness="0"/>
                                </Grid>
                            </TabItem>
                            <TabItem Header="Shamanic Infusion">
                                <Grid>
                                    <ListBox Width="0" ItemsSource="{Binding AvailablePowerList3}" ItemTemplate="{StaticResource PowerNameTemplate}" BorderBrush="{x:Null}" BorderThickness="0"/>
                                    <ListBox Width="0" ItemsSource="{Binding AvailablePowerList4}" ItemTemplate="{StaticResource PowerNameTemplate}" BorderBrush="{x:Null}" BorderThickness="0"/>
                                    <p:ListBox ItemsSource="{Binding AvailablePowerList5}" ItemTemplate="{StaticResource PowerNameTemplate}" ControlSelectedIndex="{Binding AvailablePowerIndex5, Mode=TwoWay}" BorderBrush="{x:Null}" BorderThickness="0"/>
                                </Grid>
                            </TabItem>
                        </TabControl>
                    </Expander>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <p:SelectorControl Grid.Row="0" Selector="IsFirstSkillSelected">
                            <p:SelectorItem Value="True">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock FontWeight="Bold">
                                            <TextBlock.Text>
                                                <Binding Path="Owner.FirstSkill.SelectedItem" Converter="{StaticResource convFriendlyName}"/>
                                            </TextBlock.Text>
                                        </TextBlock>
                                        <TextBlock FontWeight="Bold" Margin="5,0,0,0">mods</TextBlock>
                                    </StackPanel>
                                    <p:ListBox ItemsSource="{Binding AvailablePowerList1}" ItemTemplate="{StaticResource PowerNameTemplate}" ControlSelectedIndex="{Binding AvailablePowerIndex1, Mode=TwoWay}" BorderBrush="{x:Null}" BorderThickness="0"/>
                                </StackPanel>
                            </p:SelectorItem>
                            <p:SelectorItem/>
                        </p:SelectorControl>
                        <p:SelectorControl Grid.Row="1" Selector="IsSecondSkillSelected">
                            <p:SelectorItem Value="True">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock FontWeight="Bold">
                                            <TextBlock.Text>
                                                <Binding Path="Owner.SecondSkill.SelectedItem" Converter="{StaticResource convFriendlyName}"/>
                                            </TextBlock.Text>
                                        </TextBlock>
                                        <TextBlock FontWeight="Bold" Margin="5,0,0,0">mods</TextBlock>
                                    </StackPanel>
                                    <p:ListBox ItemsSource="{Binding AvailablePowerList2}" ItemTemplate="{StaticResource PowerNameTemplate}" ControlSelectedIndex="{Binding AvailablePowerIndex2, Mode=TwoWay}" BorderBrush="{x:Null}" BorderThickness="0"/>
                                </StackPanel>
                            </p:SelectorItem>
                            <p:SelectorItem/>
                        </p:SelectorControl>
                    </Grid>
                </DockPanel>
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <Button Command="{StaticResource AddPowerCommand}" CommandParameter="{Binding}" Margin="0,0,0,5">Add -&gt;</Button>
                    <Button Command="{StaticResource RemovePowerCommand}" CommandParameter="{Binding}" Margin="0,5,0,0">&lt;- Remove</Button>
                </StackPanel>
                <ScrollViewer Grid.Column="2" VerticalScrollBarVisibility="Visible" Margin="10,0,0,0">
                    <StackPanel Background="Black">
                        <DockPanel Margin="10,10,10,0">
                            <Image DockPanel.Dock="Left" Source="{Binding SelectedGearIcon, Converter={StaticResource convFileNameToBitmapImage}}" Width="48" Height="48" VerticalAlignment="Top"/>
                            <StackPanel Margin="10,2,5,0">
                                <TextBlock Foreground="{Binding ColorIndex, Converter={StaticResource convIntToObject}, ConverterParameter={StaticResource ModColorCodes}, FallbackValue=White}" FontSize="28" FontWeight="Bold" FontFamily="Times New Roman" TextWrapping="Wrap" VerticalAlignment="Top">
                                    <TextBlock.Text>
                                        <Binding Path="SelectedGearName" Converter="{StaticResource convFriendlyName}"/>
                                    </TextBlock.Text>
                                </TextBlock>
                                <TextBlock Text="{Binding SelectedGearDescription}" Foreground="#B19167" FontSize="22" FontFamily="Tahoma" TextWrapping="Wrap" Margin="1,5,0,0"/>
                            </StackPanel>
                        </DockPanel>
                        <ItemsControl ItemsSource="{Binding SelectedGearEffectDescriptionList}" Margin="0,10,0,0">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:Planer_ItemEffectGearSelector Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                        <StackPanel Margin="0,10,0,10">
                            <p:ListBox ItemsSource="{Binding SelectedPowerList1}" ItemTemplate="{StaticResource FullPowerTemplate}" ControlSelectedIndex="{Binding SelectedPowerIndex1, Mode=TwoWay}" BorderBrush="{x:Null}" BorderThickness="0" Background="Black" ItemContainerStyle="{StaticResource styleListBoxItemHorizontalStretch}"/>
                            <p:ListBox ItemsSource="{Binding SelectedPowerList2}" ItemTemplate="{StaticResource FullPowerTemplate}" ControlSelectedIndex="{Binding SelectedPowerIndex2, Mode=TwoWay}" BorderBrush="{x:Null}" BorderThickness="0" Background="Black" ItemContainerStyle="{StaticResource styleListBoxItemHorizontalStretch}"/>
                            <p:ListBox ItemsSource="{Binding SelectedPowerList3}" ItemTemplate="{StaticResource FullPowerTemplate}" ControlSelectedIndex="{Binding SelectedPowerIndex3, Mode=TwoWay}" BorderBrush="{x:Null}" BorderThickness="0" Background="Black" ItemContainerStyle="{StaticResource styleListBoxItemHorizontalStretch}"/>
                            <p:ListBox ItemsSource="{Binding SelectedPowerList4}" ItemTemplate="{StaticResource FullPowerTemplate}" ControlSelectedIndex="{Binding SelectedPowerIndex4, Mode=TwoWay}" BorderBrush="{x:Null}" BorderThickness="0" Background="Black" ItemContainerStyle="{StaticResource styleListBoxItemHorizontalStretch}"/>
                            <p:ListBox ItemsSource="{Binding SelectedPowerList5}" ItemTemplate="{StaticResource FullPowerTemplate}" ControlSelectedIndex="{Binding SelectedPowerIndex5, Mode=TwoWay}" BorderBrush="{x:Null}" BorderThickness="0" Background="Black" ItemContainerStyle="{StaticResource styleListBoxItemHorizontalStretch}"/>
                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>
                <p:ListBox x:Name="listGear" Grid.Column="3" ItemsSource="{Binding SortedGearList}" ItemTemplate="{StaticResource GearNameTemplate}" ControlSelectedIndex="{Binding SelectedGearIndex, Mode=TwoWay}" Margin="10,0,0,0"/>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultAbilityTitleTemplate">
            <StackPanel Orientation="Horizontal" Margin="2,2,2,2">
                <Image Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="24" Height="24"/>
                <TextBlock FontWeight="Bold" VerticalAlignment="Center" Margin="10,0,0,0">Ability:</TextBlock>
                <TextBlock Text="{Binding Name}" VerticalAlignment="Center" Margin="5,0,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultAbilityContent_CoD_ItemTemplateFirst">
            <TextBlock TextWrapping="Wrap">
                <TextBlock.Text>
                    <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="DeathsTextMap"/>
                </TextBlock.Text>
            </TextBlock>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultAbilityContent_CoD_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>,</TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="DeathsTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultAbilityContent_Keywords_ItemTemplateFirst">
            <TextBlock TextWrapping="Wrap">
                <TextBlock.Text>
                    <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="AbilityKeywordTextMap"/>
                </TextBlock.Text>
            </TextBlock>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultAbilityContent_Keywords_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>,</TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="AbilityKeywordTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultAbilityContentTemplate">
            <DockPanel>
                <DockPanel DockPanel.Dock="Top">
                    <Image DockPanel.Dock="Left" Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="64" Height="64"/>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock FontWeight="Bold" FontSize="40" VerticalAlignment="Center" Margin="20,0,0,0">Ability:</TextBlock>
                        <TextBlock Text="{Binding Name}" FontSize="40" VerticalAlignment="Center" Margin="10,0,0,0"/>
                    </StackPanel>
                </DockPanel>
                <Border DockPanel.Dock="Top" BorderBrush="Gray" BorderThickness="0,1,0,0" Height="2" Margin="5,5,5,5"/>
                <Grid VerticalAlignment="Top" Margin="0,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Animation:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="0" TextWrapping="Wrap" Margin="5,0,0,0">
                        <TextBlock.Text>
                            <Binding Path="Animation" Converter="{StaticResource convEnumToText}" ConverterParameter="AbilityAnimationTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="1" TextAlignment="Right" Margin="0,10,0,0">Can be on sidebar:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="1" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="CanBeOnSidebar" Converter="{StaticResource convBooleanToObject}" ConverterParameter="{StaticResource NoYes}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="2" TextAlignment="Right" Margin="0,10,0,0">Suppress monster shout:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="2" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawCanSuppressMonsterShout" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="3" TextAlignment="Right" Margin="0,10,0,0">Can target untargettable:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="3" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawCanTargetUntargetableEnemies" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="4" TextAlignment="Right" Margin="0,10,0,0">Cause(s) of death:</TextBlock>
                    <Grid Grid.Column="1" Grid.Row="4" Margin="5,10,0,0">
                        <ItemsControl x:Name="ctrl_SearchResultAbilityContent_CoD" ItemsSource="{Binding CausesOfDeathList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:ListMemberSelector x:Name="SearchResultAbilityContent_CoD" Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                    </Grid>
                    <TextBlock Grid.Column="0" Grid.Row="5" TextAlignment="Right" Margin="0,10,0,0">Cost:</TextBlock>
                    <ItemsControl Grid.Column="1" Grid.Row="5" ItemsSource="{Binding CostList}" ItemTemplate="{StaticResource RecipeCostTemplate}" Margin="5,10,0,0"/>
                    <TextBlock Grid.Column="0" Grid.Row="6" TextAlignment="Right" Margin="0,10,0,0">Power On Combat Refresh:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="6" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawCombatRefreshBaseAmount" Converter="{StaticResource convNullableInt}" ConverterParameter="+"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="7" TextAlignment="Right" Margin="0,10,0,0">Compatible skill:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="7" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="CompatibleSkill" Converter="{StaticResource convEnumToText}" ConverterParameter="PowerSkillTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="8" TextAlignment="Right" Margin="0,10,0,0">Consumed Item:</TextBlock>
                    <ContentControl Content="{Binding ConsumedItem}" Grid.Column="1" Grid.Row="8" Margin="5,10,0,0">
                        <ContentControl.ContentTemplate>
                            <DataTemplate>
                                <app:TypeToTemplateNameSelector Content="{Binding}"/>
                            </DataTemplate>
                        </ContentControl.ContentTemplate>
                    </ContentControl>
                    <TextBlock Grid.Column="0" Grid.Row="9" TextAlignment="Right" Margin="0,10,0,0">Damage Type:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="9" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="DamageType" Converter="{StaticResource convEnumToText}" ConverterParameter="DamageTypeTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="10" TextAlignment="Right" Margin="0,10,0,0">Activation:</TextBlock>
                    <Grid Grid.Column="1" Grid.Row="10" Margin="5,10,0,0">
                        <TextBlock Visibility="{Binding RawDelayLoopTime, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource VisibleCollapsed}, FallbackValue=Visible}">Instant</TextBlock>
                        <StackPanel Orientation="Horizontal" Visibility="{Binding RawDelayLoopTime, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}">
                            <StackPanel Orientation="Horizontal" Visibility="{Binding DelayLoopMessage, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}">
                                <TextBlock Text="{Binding DelayLoopMessage}" Margin="0,0,5,0"/>
                                <TextBlock>(</TextBlock>
                                <TextBlock Text="{Binding DelayLoopTime}"/>
                                <TextBlock>s)</TextBlock>
                            </StackPanel>
                            <StackPanel Orientation="Horizontal" Visibility="{Binding DelayLoopMessage, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource VisibleCollapsed}, FallbackValue=Visible}">
                                <TextBlock Text="{Binding DelayLoopTime}"/>
                                <TextBlock>s</TextBlock>
                            </StackPanel>
                            <Grid Visibility="{Binding RawDelayLoopIsAbortedIfAttacked, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}">
                                <TextBlock Visibility="{Binding DelayLoopIsAbortedIfAttacked, Converter={StaticResource convBooleanToObject}, ConverterParameter={StaticResource VisibleCollapsed}, FallbackValue=Collapsed}">, not aborted if attacked</TextBlock>
                                <TextBlock Visibility="{Binding DelayLoopIsAbortedIfAttacked, Converter={StaticResource convBooleanToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Visible}">, aborted if attacked</TextBlock>
                            </Grid>
                        </StackPanel>
                    </Grid>
                    <TextBlock Grid.Column="0" Grid.Row="11" TextAlignment="Right" Margin="0,10,0,0">Description:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="11" TextWrapping="Wrap" Margin="5,10,0,0" Text="{Binding Description}"/>
                    <TextBlock Grid.Column="0" Grid.Row="12" TextAlignment="Right" Margin="0,10,0,0">Appears enabled:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="12" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="EffectKeywordsIndicatingEnabled" Converter="{StaticResource convEnumToText}" ConverterParameter="AbilityIndicatingEnabledTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="13" TextAlignment="Right" Margin="0,10,0,0">Is Internal:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="13" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawInternalAbility" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="14" TextAlignment="Right" Margin="0,10,0,0">Is Harmless:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="14" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawIsHarmless" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="15" TextAlignment="Right" Margin="0,10,0,0">Error message:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="15" TextWrapping="Wrap" Margin="5,10,0,0" Text="{Binding ItemKeywordReqErrorMessage}"/>
                    <TextBlock Grid.Column="0" Grid.Row="16" TextAlignment="Right" Margin="0,10,0,0">Requirements:</TextBlock>
                    <ItemsControl Grid.Column="1" Grid.Row="16" ItemsSource="{Binding CombinedRequirementList}" Margin="5,10,0,0">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <app:TypeToTemplateNameSelector Content="{Binding}"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                    </ItemsControl>
                    <TextBlock Grid.Column="0" Grid.Row="17" TextAlignment="Right" Margin="0,10,0,0">Tooltip Extra Keywords:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="17" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="ExtraKeywordsForTooltips" Converter="{StaticResource convEnumToText}" ConverterParameter="TooltipsExtraKeywordsTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="18" TextAlignment="Right" Margin="0,10,0,0">Ability Group:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="18" TextWrapping="Wrap" Margin="5,10,0,0">
                                    <Hyperlink x:Name="hyperlink_Ability_AbilityGroup" Click="OnRequestNavigate" NavigateUri="unused">
                                        <Run>
                                            <Binding Path="AbilityGroup.Name" Mode="OneWay"/>
                                        </Run>
                                    </Hyperlink>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Keywords:</TextBlock>
                    <Grid Grid.Column="3" Grid.Row="0" Margin="5,0,0,0">
                        <ItemsControl x:Name="ctrl_SearchResultAbilityContent_Keywords" ItemsSource="{Binding KeywordList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:ListMemberSelector x:Name="SearchResultAbilityContent_Keywords" Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                    </Grid>
                    <TextBlock Grid.Column="2" Grid.Row="1" TextAlignment="Right" Margin="0,10,0,0">Level:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="1" TextWrapping="Wrap" Margin="5,10,0,0" Text="{Binding Level}"/>
                    <TextBlock Grid.Column="2" Grid.Row="2" TextAlignment="Right" Margin="0,10,0,0">Pet type requirement:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="2" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="PetTypeTagReq" Converter="{StaticResource convEnumToText}" ConverterParameter="AbilityPetTypeTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="3" TextAlignment="Right" Margin="0,10,0,0">Max simultaneous pets:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="3" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawPetTypeTagReqMax" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="4" TextAlignment="Right" Margin="0,10,0,0">Prerequisite:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="4" TextWrapping="Wrap" Margin="5,10,0,0">
                                    <Hyperlink x:Name="hyperlink_Ability_Prerequisite" Click="OnRequestNavigate" NavigateUri="unused">
                                        <Run>
                                            <Binding Path="Prerequisite.Name" Mode="OneWay"/>
                                        </Run>
                                    </Hyperlink>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="5" TextAlignment="Right" Margin="0,10,0,0">Projectile:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="5" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="Projectile" Converter="{StaticResource convEnumToText}" ConverterParameter="AbilityProjectileTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="6" TextAlignment="Right" Margin="0,10,0,0">Reset Time:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="6" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawResetTime" Converter="{StaticResource convDouble}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="7" TextAlignment="Right" Margin="0,10,0,0">Shares Reset Timer With:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="7" Margin="5,10,0,0">
                                    <Hyperlink x:Name="hyperlink_Ability_SharesResetTimerWith" Click="OnRequestNavigate" NavigateUri="unused">
                                        <Run>
                                            <Binding Path="SharesResetTimerWith.Name" Mode="OneWay"/>
                                        </Run>
                                    </Hyperlink>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="8" TextAlignment="Right" Margin="0,10,0,0">Skill:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="8" TextWrapping="Wrap" Margin="5,10,0,0">
                                    <Hyperlink x:Name="hyperlink_Ability_ConnectedSkill" Click="OnRequestNavigate" NavigateUri="unused">
                                        <Run>
                                            <Binding Path="ConnectedSkill.Name" Mode="OneWay"/>
                                        </Run>
                                    </Hyperlink>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="9" TextAlignment="Right" Margin="0,10,0,0">Special Info:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="9" Text="{Binding SpecialInfo}" TextWrapping="Wrap" Margin="5,10,0,0"/>
                    <TextBlock Grid.Column="2" Grid.Row="10" TextAlignment="Right" Margin="0,10,0,0">Target:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="10" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="Target" Converter="{StaticResource convEnumToText}" ConverterParameter="AbilityTargetTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="11" TextAlignment="Right" Margin="0,10,0,0">Target Requirement:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="11" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="TargetEffectKeywordReq" Converter="{StaticResource convEnumToText}" ConverterParameter="TargetEffectKeywordTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="12" TextAlignment="Right" Margin="0,10,0,0">Target Particle:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="12" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="TargetParticle" Converter="{StaticResource convEnumToText}" ConverterParameter="AbilityTargetParticleTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="13" TextAlignment="Right" Margin="0,10,0,0">Upgrade of:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="13" TextWrapping="Wrap" Margin="5,10,0,0">
                                    <Hyperlink x:Name="hyperlink_Ability_UpgradeOf" Click="OnRequestNavigate" NavigateUri="unused">
                                        <Run>
                                            <Binding Path="UpgradeOf.Name" Mode="OneWay"/>
                                        </Run>
                                    </Hyperlink>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="14" TextAlignment="Right" Margin="0,10,0,0">Works In Combat:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="14" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawWorksInCombat" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="15" TextAlignment="Right" Margin="0,10,0,0">Works Underwater:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="15" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawWorksUnderwater" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="16" TextAlignment="Right" Margin="0,10,0,0">Works While Falling:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="16" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawWorksWhileFalling" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="17" TextAlignment="Right" Margin="0,10,0,0">Source:</TextBlock>
                    <ItemsControl Grid.Column="3" Grid.Row="17" ItemsSource="{Binding SourceList}" Margin="5,10,0,0">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <app:TypeToTemplateNameSelector Content="{Binding}"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                    <TextBlock Grid.Column="2" Grid.Row="18" TextAlignment="Right" Margin="0,10,0,0">TODO PvE and PvP damage</TextBlock>
                </Grid>
            </DockPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultDirectedGoalTitleTemplate">
            <StackPanel Orientation="Horizontal" Margin="2,2,2,2">
                <Image Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="24" Height="24"/>
                <TextBlock FontWeight="Bold" VerticalAlignment="Center" Margin="10,0,0,0">Goal:</TextBlock>
                <TextBlock Text="{Binding Label}" VerticalAlignment="Center" Margin="5,0,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultDirectedGoalContentTemplate">
            <DockPanel>
                <DockPanel DockPanel.Dock="Top">
                    <Image DockPanel.Dock="Left" Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="64" Height="64"/>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock FontWeight="Bold" FontSize="40" VerticalAlignment="Center" Margin="20,0,0,0">Goal:</TextBlock>
                        <TextBlock Text="{Binding Label}" FontSize="40" VerticalAlignment="Center" Margin="10,0,0,0"/>
                    </StackPanel>
                </DockPanel>
                <Border DockPanel.Dock="Top" BorderBrush="Gray" BorderThickness="0,1,0,0" Height="2" Margin="5,5,5,5"/>
                <Grid VerticalAlignment="Top" Margin="0,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Zone:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="0" Text="{Binding Zone}" TextWrapping="Wrap" Margin="5,0,0,0"/>
                    <TextBlock Grid.Column="0" Grid.Row="1" TextAlignment="Right" Margin="0,10,0,0">Large Hint:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="1" Text="{Binding LargeHint}" TextWrapping="Wrap" Margin="5,10,0,0"/>
                    <TextBlock Grid.Column="0" Grid.Row="2" TextAlignment="Right" Margin="0,10,0,0">Small Hint:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="2" Text="{Binding SmallHint}" TextWrapping="Wrap" Margin="5,10,0,0"/>
                    <TextBlock Grid.Column="0" Grid.Row="3" TextAlignment="Right" Margin="0,10,0,0">Is Category Gate:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="3" Visibility="{Binding RawIsCategoryGate, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="IsCategoryGate" Converter="{StaticResource convBooleanToObject}" ConverterParameter="{StaticResource NoYes}"/>
                        </TextBlock.Text>
                    </TextBlock>
                </Grid>
            </DockPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultGameNpcTitleTemplate">
            <StackPanel Orientation="Horizontal" Margin="2,2,2,2">
                <Image Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="24" Height="24"/>
                <TextBlock FontWeight="Bold" VerticalAlignment="Center" Margin="10,0,0,0">Npc:</TextBlock>
                <TextBlock Text="{Binding Name}" VerticalAlignment="Center" Margin="5,0,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="NpcPreference_ItemTemplateFirst">
            <TextBlock TextWrapping="Wrap">
                <TextBlock.Text>
                    <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="ItemKeywordTextMap"/>
                </TextBlock.Text>
            </TextBlock>
        </DataTemplate>
        <DataTemplate x:Key="NpcPreference_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>,</TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="ItemKeywordTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="GiftTemplate">
            <Grid HorizontalAlignment="Center">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="200"/>
                    <ColumnDefinition Width="50"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" TextWrapping="NoWrap">
                    <Hyperlink x:Name="hyperlink_Gift_Item" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Item.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <TextBlock Grid.Column="1" Foreground="{Binding IsHated, Converter={StaticResource convBooleanToObject}, ConverterParameter={StaticResource GreenRed}, FallbackValue=Black}" Text="{Binding Value}"/>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="NpcPreferenceTemplate">
            <Grid Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="100"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <StackPanel Grid.Column="0" Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,0,0">
                    <TextBlock Text="{Binding PreferenceType}" Margin="0,0,5,0"/>
                    <TextBlock>(Give</TextBlock>
                    <TextBlock Text="{Binding Preference}" TextWrapping="Wrap" Margin="5,0,0,0"/>
                    <TextBlock>):</TextBlock>
                </StackPanel>
                <StackPanel Grid.Column="1" Grid.Row="0" Orientation="Horizontal" Margin="5,0,0,0">
                    <ItemsControl x:Name="ctrl_NpcPreference" ItemsSource="{Binding ItemKeywordList}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <app:ListMemberSelector x:Name="NpcPreference" Content="{Binding}"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel Orientation="Horizontal"/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                    </ItemsControl>
                    <ToggleButton x:Name="buttonFavor" BorderBrush="{x:Null}" BorderThickness="0" Background="Transparent" Margin="5,0,5,0" Click="OnFavorButtonClicked">
                        <Image Width="12" Height="12" Source="{Binding Item, Source={StaticResource imgFavorIcon}}"/>
                    </ToggleButton>
                    <p:Popup IsOpen="{Binding IsChecked, ElementName=buttonFavor}" Placement="Bottom" AllowsTransparency="False" Focusable="False" StaysOpen="False" MaxHeight="400" Opened="OnFavorPopupOpened">
                        <Border BorderBrush="DarkGray" BorderThickness="1">
                            <ScrollViewer>
                                <DockPanel>
                                    <Border DockPanel.Dock="Top" BorderBrush="DarkGray" BorderThickness="0,0,0,1" Background="LightGray">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="202"/>
                                                <ColumnDefinition Width="52"/>
                                                <ColumnDefinition/>
                                            </Grid.ColumnDefinitions>
                                            <Border Grid.Column="0" BorderBrush="DarkGray" BorderThickness="0,0,1,0" Background="LightGray" Padding="0,1,0,1">
                                                <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">Name</TextBlock>
                                            </Border>
                                            <Border Grid.Column="1" BorderBrush="DarkGray" BorderThickness="0,0,1,0" Background="LightGray" Padding="0,1,0,1">
                                                <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">Value</TextBlock>
                                            </Border>
                                        </Grid>
                                    </Border>
                                    <p:ListBox ItemsSource="{Binding ItemFavorList}" ItemTemplate="{StaticResource GiftTemplate}" BorderBrush="Transparent" BorderThickness="0,0,0,0" ItemContainerStyle="{StaticResource styleListBoxItemNotFocusable}"/>
                                </DockPanel>
                            </ScrollViewer>
                        </Border>
                    </p:Popup>
                    <StackPanel Orientation="Horizontal" Visibility="{Binding MinValueRequirement, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Margin="5,0,0,0">
                        <TextBlock>(Min Value:</TextBlock>
                        <TextBlock Text="{Binding MinValueRequirement}" TextWrapping="Wrap" Margin="5,0,0,0"/>
                        <TextBlock>)</TextBlock>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Visibility="{Binding SkillRequirement, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Margin="5,0,0,0">
                        <TextBlock>(Required Skill:</TextBlock>
                        <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                                        <Hyperlink x:Name="hyperlink_Skill_SkillRequirement" Click="OnRequestNavigate" NavigateUri="unused">
                                            <Run>
                                                <Binding Path="SkillRequirement.Name" Mode="OneWay"/>
                                            </Run>
                                        </Hyperlink>
                        </TextBlock>
                        <TextBlock>)</TextBlock>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Visibility="{Binding SlotRequirement, Converter={StaticResource convIntToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Margin="5,0,0,0">
                        <TextBlock>(Slot:</TextBlock>
                        <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                            <TextBlock.Text>
                                <Binding Path="SlotRequirement" Converter="{StaticResource convEnumToText}" ConverterParameter="ItemSlotTextMap"/>
                            </TextBlock.Text>
                        </TextBlock>
                        <TextBlock>)</TextBlock>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Visibility="{Binding RarityRequirement, Converter={StaticResource convIntToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Margin="5,0,0,0">
                        <TextBlock>(Rarity:</TextBlock>
                        <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                            <TextBlock.Text>
                                <Binding Path="RarityRequirement" Converter="{StaticResource convEnumToText}" ConverterParameter="RecipeItemKeyTextMap"/>
                            </TextBlock.Text>
                        </TextBlock>
                        <TextBlock>)</TextBlock>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Visibility="{Binding MinRarityRequirement, Converter={StaticResource convIntToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Margin="5,0,0,0">
                        <TextBlock>(Minimum Rarity:</TextBlock>
                        <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                            <TextBlock.Text>
                                <Binding Path="MinRarityRequirement" Converter="{StaticResource convEnumToText}" ConverterParameter="RecipeItemKeyTextMap"/>
                            </TextBlock.Text>
                        </TextBlock>
                        <TextBlock>)</TextBlock>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultGameNpcContentTemplate">
            <DockPanel>
                <DockPanel DockPanel.Dock="Top">
                    <Image DockPanel.Dock="Left" Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="64" Height="64"/>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock FontWeight="Bold" FontSize="40" VerticalAlignment="Center" Margin="20,0,0,0">Npc:</TextBlock>
                        <TextBlock Text="{Binding Name}" FontSize="40" VerticalAlignment="Center" Margin="10,0,0,0"/>
                    </StackPanel>
                </DockPanel>
                <Border DockPanel.Dock="Top" BorderBrush="Gray" BorderThickness="0,1,0,0" Height="2" Margin="5,5,5,5"/>
                <Grid DockPanel.Dock="Top" Margin="0,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Area:</TextBlock>
                    <StackPanel Grid.Column="1" Grid.Row="0" Orientation="Horizontal" Margin="5,0,0,0">
                        <TextBlock TextWrapping="Wrap">
                            <TextBlock.Text>
                                <Binding Path="AreaName" Converter="{StaticResource convEnumToText}" ConverterParameter="MapAreaNameTextMap"/>
                            </TextBlock.Text>
                        </TextBlock>
                        <TextBlock Margin="5,0,0,0">(</TextBlock>
                        <TextBlock Text="{Binding AreaFriendlyName}" TextWrapping="Wrap"/>
                        <TextBlock>)</TextBlock>
                    </StackPanel>
                </Grid>
                <StackPanel Orientation="Horizontal">
                    <ItemsControl Grid.Column="1" Grid.Row="1" ItemsSource="{Binding LikeList}" ItemTemplate="{StaticResource NpcPreferenceTemplate}" Margin="0,0,0,0"/>
                    <ItemsControl Grid.Column="1" Grid.Row="2" ItemsSource="{Binding HateList}" ItemTemplate="{StaticResource NpcPreferenceTemplate}" Margin="20,0,0,0"/>
                </StackPanel>
            </DockPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultStorageVaultTitleTemplate">
            <StackPanel Orientation="Horizontal" Margin="2,2,2,2">
                <Image Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="24" Height="24"/>
                <TextBlock FontWeight="Bold" VerticalAlignment="Center" Margin="10,0,0,0">Storage:</TextBlock>
                <TextBlock Text="{Binding NpcFriendlyName}" VerticalAlignment="Center" Margin="5,0,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultStorageVaultContent_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock>
                    <TextBlock.Text>
                        <Binding Path="Key" Converter="{StaticResource convEnumToText}" ConverterParameter="FavorTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
                <TextBlock Text="{Binding Value}" Margin="5,0,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultStorageVaultContent_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>,</TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                    <TextBlock.Text>
                        <Binding Path="Key" Converter="{StaticResource convEnumToText}" ConverterParameter="FavorTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
                <TextBlock Text="{Binding Value}" Margin="5,0,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultStorageVaultContentTemplate">
            <DockPanel>
                <DockPanel DockPanel.Dock="Top">
                    <Image DockPanel.Dock="Left" Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="64" Height="64"/>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock FontWeight="Bold" FontSize="40" VerticalAlignment="Center" Margin="20,0,0,0">Goal:</TextBlock>
                        <TextBlock Text="{Binding NpcFriendlyName}" FontSize="40" VerticalAlignment="Center" Margin="10,0,0,0"/>
                    </StackPanel>
                </DockPanel>
                <Border DockPanel.Dock="Top" BorderBrush="Gray" BorderThickness="0,1,0,0" Height="2" Margin="5,5,5,5"/>
                <Grid VerticalAlignment="Top" Margin="0,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Area:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="0" TextWrapping="Wrap" Margin="5,0,0,0">
                        <TextBlock.Text>
                            <Binding Path="Area" Converter="{StaticResource convEnumToText}" ConverterParameter="MapAreaNameTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="1" TextAlignment="Right" Margin="0,10,0,0">Grouping:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="1" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="Grouping" Converter="{StaticResource convEnumToText}" ConverterParameter="MapAreaNameTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="2" TextAlignment="Right" Margin="0,10,0,0">Number of slots:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="2" Text="{Binding NumSlots}" Visibility="{Binding RawNumSlots, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" TextWrapping="Wrap" Margin="5,10,0,0"/>
                    <TextBlock Grid.Column="0" Grid.Row="3" TextAlignment="Right" Margin="0,10,0,0">Has Associated Npc:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="3" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawHasAssociatedNpc" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="4" TextAlignment="Right" Margin="0,10,0,0">Slots with Favor:</TextBlock>
                    <Grid Grid.Column="1" Grid.Row="4" Margin="5,10,0,0">
                        <ItemsControl x:Name="ctrl_SearchResultStorageVaultContent" ItemsSource="{Binding FavorLevelTable}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:ListMemberSelector x:Name="SearchResultStorageVaultContent" Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                    </Grid>
                    <TextBlock Grid.Column="0" Grid.Row="5" TextAlignment="Right" Margin="0,10,0,0">Required Item:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="5" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RequiredItemKeyword" Converter="{StaticResource convEnumToText}" ConverterParameter="ItemKeywordTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="6" TextAlignment="Right" Margin="0,10,0,0">Requirement Description:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="6" Text="{Binding RequirementDescription}" TextWrapping="Wrap" Margin="5,10,0,0"/>
                    <TextBlock Grid.Column="0" Grid.Row="7" TextAlignment="Right" Margin="0,10,0,0">Interaction Requirement:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="7" Text="{Binding InteractionFlagRequirement}" TextWrapping="Wrap" Margin="5,10,0,0"/>
                </Grid>
            </DockPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultEffectTitleTemplate">
            <StackPanel Orientation="Horizontal" Margin="2,2,2,2">
                <Image Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="24" Height="24"/>
                <TextBlock FontWeight="Bold" VerticalAlignment="Center" Margin="10,0,0,0">Effect:</TextBlock>
                <TextBlock Text="{Binding Name}" VerticalAlignment="Center" Margin="5,0,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultEffectContent_Keywords_ItemTemplateFirst">
            <TextBlock TextWrapping="Wrap">
                <TextBlock.Text>
                    <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="EffectKeywordTextMap"/>
                </TextBlock.Text>
            </TextBlock>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultEffectContent_Keywords_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>,</TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="EffectKeywordTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultEffectContent_Ability_ItemTemplateFirst">
            <TextBlock TextWrapping="Wrap">
                <TextBlock.Text>
                    <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="AbilityKeywordTextMap"/>
                </TextBlock.Text>
            </TextBlock>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultEffectContent_Ability_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>,</TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="5,0,0,0">
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="AbilityKeywordTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultEffectContentTemplate">
            <DockPanel>
                <DockPanel DockPanel.Dock="Top">
                    <Image DockPanel.Dock="Left" Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="64" Height="64"/>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock FontWeight="Bold" FontSize="40" VerticalAlignment="Center" Margin="20,0,0,0">Effect:</TextBlock>
                        <TextBlock Text="{Binding Name}" FontSize="40" VerticalAlignment="Center" Margin="10,0,0,0"/>
                    </StackPanel>
                </DockPanel>
                <Grid VerticalAlignment="Top" Margin="0,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Description:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="0" Text="{Binding Desc}" TextWrapping="Wrap" Margin="5,0,0,0"/>
                    <TextBlock Grid.Column="0" Grid.Row="1" TextAlignment="Right" Margin="0,10,0,0">Display Mode:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="1" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="DisplayMode" Converter="{StaticResource convEnumToText}" ConverterParameter="EffectDisplayModeTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="2" TextAlignment="Right" Margin="0,10,0,0">Spew Text:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="2" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="SpewText" Converter="{StaticResource convReplaceMacro}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="3" TextAlignment="Right" Margin="0,10,0,0">Particle:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="3" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="Particle" Converter="{StaticResource convEnumToText}" ConverterParameter="EffectParticleTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="4" TextAlignment="Right" Margin="0,10,0,0">Stacking Type:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="4" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="StackingType" Converter="{StaticResource convEnumToText}" ConverterParameter="EffectStackingTypeTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="5" TextAlignment="Right" Margin="0,10,0,0">Stacking Priority:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="5" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawStackingPriority" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="6" TextAlignment="Right" Margin="0,10,0,0">Duration:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="6" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawDuration" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="7" TextAlignment="Right" Margin="0,10,0,0">Keywords:</TextBlock>
                    <Grid Grid.Column="1" Grid.Row="7" Margin="5,10,0,0">
                        <ItemsControl x:Name="ctrl_SearchResultEffectContent_Keywords" ItemsSource="{Binding KeywordList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:ListMemberSelector x:Name="SearchResultEffectContent_Keywords" Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                    </Grid>
                    <TextBlock Grid.Column="0" Grid.Row="8" TextAlignment="Right" Margin="0,10,0,0">Ability Keywords:</TextBlock>
                    <Grid Grid.Column="1" Grid.Row="8" Margin="5,10,0,0">
                        <ItemsControl x:Name="ctrl_SearchResultEffectContent_Ability" ItemsSource="{Binding AbilityKeywordList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:ListMemberSelector x:Name="SearchResultEffectContent_Ability" Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                    </Grid>
                </Grid>
            </DockPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultItemTitleTemplate">
            <StackPanel Orientation="Horizontal" Margin="2,2,2,2">
                <Image Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="24" Height="24"/>
                <TextBlock FontWeight="Bold" VerticalAlignment="Center" Margin="10,0,0,0">Item:</TextBlock>
                <TextBlock Text="{Binding Name}" VerticalAlignment="Center" Margin="5,0,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultItemContent_BestowRecipe_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Item_Value" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Value.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultItemContent_BestowRecipe_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Item_Value" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Value.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultItemContent_EffectDesc_ItemTemplateFirst">
            <ContentControl Content="{Binding}">
                <ContentControl.ContentTemplate>
                    <DataTemplate>
                        <app:TypeToTemplateNameSelector Content="{Binding}"/>
                    </DataTemplate>
                </ContentControl.ContentTemplate>
            </ContentControl>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultItemContent_EffectDesc_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>,</TextBlock>
                <ContentControl Content="{Binding}" Margin="5,0,0,0">
                    <ContentControl.ContentTemplate>
                        <DataTemplate>
                            <app:TypeToTemplateNameSelector Content="{Binding}"/>
                        </DataTemplate>
                    </ContentControl.ContentTemplate>
                </ContentControl>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultItemContent_SkillReq_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Item_Link" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Link.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <StackPanel Visibility="{Binding HasLevel, Converter={StaticResource convBooleanToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal">
                    <TextBlock Margin="5,0,0,0">(</TextBlock>
                    <TextBlock Text="{Binding ParsedLevel}"/>
                    <TextBlock>)</TextBlock>
                </StackPanel>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultItemContent_SkillReq_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Item_Link" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Link.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <StackPanel Visibility="{Binding HasLevel, Converter={StaticResource convBooleanToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal">
                    <TextBlock Margin="5,0,0,0">(</TextBlock>
                    <TextBlock Text="{Binding ParsedLevel}"/>
                    <TextBlock>)</TextBlock>
                </StackPanel>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultItemContent_Keywords_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock>
                    <TextBlock.Text>
                        <Binding Path="Key" Converter="{StaticResource convEnumToText}" ConverterParameter="ItemKeywordTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
                <StackPanel Visibility="{Binding Value.Count, Converter={StaticResource convIntToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" Margin="5,0,0,0">
                    <TextBlock>(</TextBlock>
                    <TextBlock>
                        <TextBlock.Text>
                            <Binding Path="Value" Converter="{StaticResource convFloatListToString}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock>)</TextBlock>
                </StackPanel>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultItemContent_Keywords_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock>,</TextBlock>
                <TextBlock Margin="5,0,0,0">
                    <TextBlock.Text>
                        <Binding Path="Key" Converter="{StaticResource convEnumToText}" ConverterParameter="ItemKeywordTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
                <StackPanel Visibility="{Binding Value.Count, Converter={StaticResource convIntToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" Margin="5,0,0,0">
                    <TextBlock>(</TextBlock>
                    <TextBlock>
                        <TextBlock.Text>
                            <Binding Path="Value" Converter="{StaticResource convFloatListToString}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock>)</TextBlock>
                </StackPanel>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultItemContentTemplate">
            <DockPanel>
                <DockPanel DockPanel.Dock="Top">
                    <p:ToolTipControl ToolTip="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}">
                        <Image DockPanel.Dock="Left" Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="64" Height="64"/>
                    </p:ToolTipControl>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock FontWeight="Bold" FontSize="40" VerticalAlignment="Center" Margin="20,0,0,0">Item:</TextBlock>
                        <TextBlock Text="{Binding Name}" FontSize="40" VerticalAlignment="Center" Margin="10,0,0,0"/>
                    </StackPanel>
                </DockPanel>
                <Grid VerticalAlignment="Top" Margin="0,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Description:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="0" Text="{Binding Description}" TextWrapping="Wrap" Margin="5,0,0,0"/>
                    <TextBlock Grid.Column="0" Grid.Row="1" TextAlignment="Right" Margin="0,10,0,0">Bestow Recipes:</TextBlock>
                    <Grid Grid.Column="1" Grid.Row="1" Margin="5,10,0,0">
                        <ItemsControl x:Name="ctrl_SearchResultItemContent_BestowRecipe" ItemsSource="{Binding BestowRecipeTable}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:ListMemberSelector x:Name="SearchResultItemContent_BestowRecipe" Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                    </Grid>
                    <TextBlock Grid.Column="0" Grid.Row="2" TextAlignment="Right" Margin="0,10,0,0">Bestow Ability:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="2" TextWrapping="Wrap" Margin="5,10,0,0">
                        <Hyperlink x:Name="hyperlink_Item_BestowAbility" Click="OnRequestNavigate" NavigateUri="unused">
                            <Run>
                                <Binding Path="BestowAbility.Name" Mode="OneWay"/>
                            </Run>
                        </Hyperlink>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="3" TextAlignment="Right" Margin="0,10,0,0">Bestow Quest:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="3" TextWrapping="Wrap" Margin="5,10,0,0">
                                    <Hyperlink x:Name="hyperlink_Item_BestowQuest" Click="OnRequestNavigate" NavigateUri="unused">
                                        <Run>
                                            <Binding Path="BestowQuest.Name" Mode="OneWay"/>
                                        </Run>
                                    </Hyperlink>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="4" TextAlignment="Right" Margin="0,10,0,0">Allow Prefix:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="4" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawAllowPrefix" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="5" TextAlignment="Right" Margin="0,10,0,0">Allow Suffix:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="5" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawAllowSuffix" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="6" TextAlignment="Right" Margin="0,10,0,0">Craft Points:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="6" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawCraftPoints" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="7" TextAlignment="Right" Margin="0,10,0,0">Crafting Target Level:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="7" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawCraftingTargetLevel" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="8" TextAlignment="Right" Margin="0,10,0,0">Dropped Appearance:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="8" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="DroppedAppearance" Converter="{StaticResource convEnumToText}" ConverterParameter="ItemDroppedAppearanceTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="9" TextAlignment="Right" Margin="0,10,0,0">Effect description:</TextBlock>
                    <Grid Grid.Column="1" Grid.Row="9" Margin="5,10,0,0">
                        <ItemsControl x:Name="ctrl_SearchResultItemContent_EffectDesc" ItemsSource="{Binding EffectDescriptionList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:ListMemberSelector x:Name="SearchResultItemContent_EffectDesc" Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                    </Grid>
                    <TextBlock Grid.Column="0" Grid.Row="10" TextAlignment="Right" Margin="0,10,0,0">Dye Color:</TextBlock>
                    <Rectangle Grid.Column="1" Grid.Row="10" HorizontalAlignment="Left" Width="50" Margin="5,10,0,0" Fill="{Binding DyeColor, Converter={StaticResource convRgbColorToBrush}, FallbackValue=Transparent}"/>
                    <TextBlock Grid.Column="0" Grid.Row="11" TextAlignment="Right" Margin="0,10,0,0">Slot:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="11" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="EquipSlot" Converter="{StaticResource convEnumToText}" ConverterParameter="ItemSlotTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="12" TextAlignment="Right" Margin="0,10,0,0">Is Temporary:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="12" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawIsTemporary" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <StackPanel Grid.Column="0" Grid.Row="13" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,10,0,0">
                        <TextBlock VerticalAlignment="Center">Behaviors:</TextBlock>
                        <Expander Width="0" VerticalAlignment="Center"/>
                    </StackPanel>
                    <ScrollViewer Grid.Column="1" Grid.ColumnSpan="3" Grid.Row="13" HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Hidden" VerticalAlignment="Top" Margin="5,10,0,0">
                        <ItemsControl ItemsSource="{Binding BehaviorList}" ItemTemplate="{StaticResource ItemBehaviorTemplate}">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <StackPanel Orientation="Horizontal"/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                    </ScrollViewer>
                    <TextBlock Grid.Column="2" Grid.Row="0" TextAlignment="Right" Margin="0,10,0,0">Associated Quest:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="0" TextWrapping="Wrap" Margin="5,10,0,0">
                                    <Hyperlink x:Name="hyperlink_Item_MacGuffinQuestName" Click="OnRequestNavigate" NavigateUri="unused">
                                        <Run>
                                            <Binding Path="MacGuffinQuestName.Name" Mode="OneWay"/>
                                        </Run>
                                    </Hyperlink>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="1" TextAlignment="Right" Margin="0,0,0,0">Max Carryable:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="1" TextWrapping="Wrap" Margin="5,0,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawMaxCarryable" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="2" TextAlignment="Right" Margin="0,10,0,0">Max On Vendor:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="2" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawMaxOnVendor" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="3" TextAlignment="Right" Margin="0,10,0,0">Max Stack Size:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="3" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawMaxStackSize" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="4" TextAlignment="Right" Margin="0,10,0,0">Required Appearance:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="4" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RequiredAppearance" Converter="{StaticResource convEnumToText}" ConverterParameter="AppearanceTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="5" TextAlignment="Right" Margin="0,10,0,0">Skill Requirements:</TextBlock>
                    <Grid Grid.Column="3" Grid.Row="5" Margin="5,10,0,0">
                        <ItemsControl x:Name="ctrl_SearchResultItemContent_SkillReq" ItemsSource="{Binding SkillRequirementList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:ListMemberSelector x:Name="SearchResultItemContent_SkillReq" Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                    </Grid>
                    <TextBlock Grid.Column="2" Grid.Row="6" TextAlignment="Right" Margin="0,10,0,0">Stock Dye:</TextBlock>
                    <ItemsControl Grid.Column="3" Grid.Row="6" ItemsSource="{Binding StockDye}" HorizontalAlignment="Left" Margin="5,10,0,0">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel Orientation="Horizontal"/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Rectangle Fill="{Binding Converter={StaticResource convRgbColorToBrush}, FallbackValue=Transparent}" Width="50" Margin="0,0,10,0"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                    <TextBlock Grid.Column="2" Grid.Row="7" TextAlignment="Right" Margin="0,10,0,0">Value:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="7" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawValue" Converter="{StaticResource convDouble}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="8" TextAlignment="Right" Margin="0,10,0,0">Number of Uses:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="8" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawNumUses" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="9" TextAlignment="Right" Margin="0,10,0,0">Destroy When Used Up:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="9" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawDestroyWhenUsedUp" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="10" TextAlignment="Right" Margin="0,10,0,0">Is Crafted:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="10" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawIsCrafted" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="11" TextAlignment="Right" Margin="0,10,0,0">Keywords:</TextBlock>
                    <Grid Grid.Column="3" Grid.Row="11" Margin="5,10,0,0">
                        <ItemsControl x:Name="ctrl_SearchResultItemContent_Keywords" ItemsSource="{Binding KeywordTable}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:ListMemberSelector x:Name="SearchResultItemContent_Keywords" Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                    </Grid>
                    <TextBlock Grid.Column="2" Grid.Row="12" TextAlignment="Right" Margin="0,10,0,0">Bestow Title:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="12" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawBestowTitle" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="13" TextAlignment="Right" Margin="0,10,0,0">Bestow Lore Book:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="13" TextWrapping="Wrap" Margin="5,10,0,0">
                                    <Hyperlink x:Name="hyperlink_Item_ConnectedLoreBook" Click="OnRequestNavigate" NavigateUri="unused">
                                        <Run>
                                            <Binding Path="ConnectedLoreBook.Title" Mode="OneWay"/>
                                        </Run>
                                    </Hyperlink>
                    </TextBlock>
                </Grid>
            </DockPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultQuestTitleTemplate">
            <StackPanel Orientation="Horizontal" Margin="2,2,2,2">
                <Image Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="24" Height="24"/>
                <TextBlock FontWeight="Bold" VerticalAlignment="Center" Margin="10,0,0,0">Quest:</TextBlock>
                <TextBlock Text="{Binding Name}" VerticalAlignment="Center" Margin="5,0,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultQuestContent_XpReward_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_QuestRewardXp_ConnectedSkill" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="ConnectedSkill.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <TextBlock Margin="5,0,0,0">(</TextBlock>
                <TextBlock Text="{Binding Xp}"/>
                <TextBlock>)</TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultQuestContent_XpReward_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_QuestRewardXp_ConnectedSkill" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="ConnectedSkill.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <TextBlock Margin="5,0,0,0">(</TextBlock>
                <TextBlock Text="{Binding Xp}"/>
                <TextBlock>)</TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultQuestContent_ItemReward_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_QuestRewardItem_QuestItem" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="QuestItem.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <StackPanel Visibility="{Binding RawStackSize, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" Margin="5,0,0,0">
                    <TextBlock>x</TextBlock>
                    <TextBlock Text="{Binding StackSize}"/>
                </StackPanel>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultQuestContent_ItemReward_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_QuestRewardItem_QuestItem" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="QuestItem.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <StackPanel Visibility="{Binding RawStackSize, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" Margin="5,0,0,0">
                    <TextBlock>x</TextBlock>
                    <TextBlock Text="{Binding StackSize}"/>
                </StackPanel>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultQuestContent_FollowUp_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Quest_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultQuestContent_FollowUp_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Quest_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultQuestContent_ItemGiven_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_QuestRewardItem_QuestItem" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="QuestItem.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <StackPanel Visibility="{Binding RawStackSize, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" Margin="5,0,0,0">
                    <TextBlock>x</TextBlock>
                    <TextBlock Text="{Binding StackSize}"/>
                </StackPanel>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultQuestContent_ItemGiven_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_QuestRewardItem_QuestItem" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="QuestItem.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
                <StackPanel Visibility="{Binding RawStackSize, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" Margin="5,0,0,0">
                    <TextBlock>x</TextBlock>
                    <TextBlock Text="{Binding StackSize}"/>
                </StackPanel>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultQuestContent_RecipeGiven_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Recipe_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultQuestContent_RecipeGiven_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Recipe_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultQuestContent_Keywords_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock>
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="QuestKeywordTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultQuestContent_Keywords_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock>
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="QuestKeywordTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
                <TextBlock Margin="0,0,5,0">,</TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultQuestContentTemplate">
            <DockPanel>
                <DockPanel DockPanel.Dock="Top">
                    <Image DockPanel.Dock="Left" Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="64" Height="64"/>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock FontWeight="Bold" FontSize="40" VerticalAlignment="Center" Margin="20,0,0,0">Quest:</TextBlock>
                        <TextBlock Text="{Binding Name}" FontSize="40" VerticalAlignment="Center" Margin="10,0,0,0"/>
                    </StackPanel>
                </DockPanel>
                <Grid DockPanel.Dock="Top" Margin="0,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Description:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="0" Text="{Binding Description}" TextWrapping="Wrap" Margin="5,0,0,0"/>
                    <TextBlock Grid.Column="0" Grid.Row="1" TextAlignment="Right" Margin="0,10,0,0">Version:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="1" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawVersion" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="2" TextAlignment="Right" Margin="0,10,0,0">Reuse Time:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="2" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawReuseTime" Converter="{StaticResource convNullableTimeSpanToDuration}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="3" TextAlignment="Right" Margin="0,10,0,0">Is Cancellable:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="3" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawIsCancellable" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="4" TextAlignment="Right" Margin="0,10,0,0">Quest Objectives:</TextBlock>
                    <ItemsControl Grid.Column="1" Grid.Row="4" ItemsSource="{Binding QuestObjectiveList}" HorizontalAlignment="Left" Margin="5,10,0,0">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <app:TypeToTemplateNameSelector Content="{Binding}"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                    <TextBlock Grid.Column="0" Grid.Row="5" TextAlignment="Right" Margin="0,10,0,0">XP Rewards:</TextBlock>
                    <Grid Grid.Column="1" Grid.Row="5" Margin="5,10,0,0">
                        <ItemsControl x:Name="ctrl_SearchResultQuestContent_XpReward" ItemsSource="{Binding RewardsXPList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:ListMemberSelector x:Name="SearchResultQuestContent_XpReward" Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                    </Grid>
                    <TextBlock Grid.Column="0" Grid.Row="6" TextAlignment="Right" Margin="0,10,0,0">Item Rewards:</TextBlock>
                    <Grid Grid.Column="1" Grid.Row="6" Margin="5,10,0,0">
                        <ItemsControl x:Name="ctrl_SearchResultQuestContent_ItemReward" ItemsSource="{Binding QuestRewardsItemList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:ListMemberSelector x:Name="SearchResultQuestContent_ItemReward" Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                    </Grid>
                    <TextBlock Grid.Column="0" Grid.Row="7" TextAlignment="Right" Margin="0,10,0,0">Combat XP Reward:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="7" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawRewardCombatXP" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="8" TextAlignment="Right" Margin="0,10,0,0">Favor NPC:</TextBlock>
                    <Grid Grid.Column="1" Grid.Row="8" Visibility="{Binding FavorNpc, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Margin="5,10,0,0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock TextWrapping="Wrap">
                                <Hyperlink x:Name="hyperlink_Quest_FavorNpc" Click="OnRequestNavigate" NavigateUri="unused">
                                    <Run>
                                        <Binding Path="FavorNpc.Name" Mode="OneWay"/>
                                    </Run>
                                </Hyperlink>
                            </TextBlock>
                            <TextBlock Margin="5,0,5,0">in</TextBlock>
                            <TextBlock TextWrapping="Wrap">
                                <TextBlock.Text>
                                    <Binding Path="FavorNpcArea" Converter="{StaticResource convEnumToText}" ConverterParameter="MapAreaNameTextMap"/>
                                </TextBlock.Text>
                            </TextBlock>
                        </StackPanel>
                    </Grid>
                    <Grid Grid.Column="1" Grid.Row="8" Visibility="{Binding FavorNpc, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource VisibleCollapsed}, FallbackValue=Collapsed}" Margin="5,10,0,0">
                        <StackPanel Orientation="Horizontal" Visibility="{Binding FavorNpcName, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}">
                            <TextBlock Text="{Binding FavorNpcName}" TextWrapping="Wrap"/>
                            <TextBlock Margin="5,0,5,0">in</TextBlock>
                            <TextBlock TextWrapping="Wrap">
                                <TextBlock.Text>
                                    <Binding Path="FavorNpcArea" Converter="{StaticResource convEnumToText}" ConverterParameter="MapAreaNameTextMap"/>
                                </TextBlock.Text>
                            </TextBlock>
                        </StackPanel>
                    </Grid>
                    <TextBlock Grid.Column="0" Grid.Row="9" TextAlignment="Right" Margin="0,10,0,0">Preface Text:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="9" Text="{Binding PrefaceText}" TextWrapping="Wrap" Margin="5,10,0,0"/>
                    <TextBlock Grid.Column="0" Grid.Row="10" TextAlignment="Right" Margin="0,10,0,0">Success Text:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="10" Text="{Binding SuccessText}" TextWrapping="Wrap" Margin="5,10,0,0"/>
                    <TextBlock Grid.Column="0" Grid.Row="11" TextAlignment="Right" Margin="0,10,0,0">Midway Text:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="11" Text="{Binding MidwayText}" TextWrapping="Wrap" Margin="5,10,0,0"/>
                    <TextBlock Grid.Column="0" Grid.Row="12" TextAlignment="Right" Margin="0,10,0,0">Favor Prerequisite:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="12" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="PrerequisiteFavorLevel" Converter="{StaticResource convEnumToText}" ConverterParameter="FavorTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="13" TextAlignment="Right" Margin="0,10,0,0">Ability Reward:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="13" TextWrapping="Wrap" Margin="5,10,0,0">
                        <Hyperlink x:Name="hyperlink_Quest_RewardAbility" Click="OnRequestNavigate" NavigateUri="unused">
                            <Run>
                                <Binding Path="RewardAbility.Name" Mode="OneWay"/>
                            </Run>
                        </Hyperlink>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="14" TextAlignment="Right" Margin="0,10,0,0">Follow Up Quests:</TextBlock>
                    <Grid Grid.Column="1" Grid.Row="14" Margin="5,10,0,0">
                        <ItemsControl x:Name="ctrl_SearchResultQuestContent_FollowUp" ItemsSource="{Binding FollowUpQuestList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:ListMemberSelector x:Name="SearchResultQuestContent_FollowUp" Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                    </Grid>
                    <TextBlock Grid.Column="0" Grid.Row="15" TextAlignment="Right" Margin="0,10,0,0">Level:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="15" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawLevel" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="16" TextAlignment="Right" Margin="0,10,0,0">Work Order Skill:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="16" TextWrapping="Wrap" Margin="5,10,0,0">
                        <Hyperlink x:Name="hyperlink_Quest_ConnectedWorkOrderSkill" Click="OnRequestNavigate" NavigateUri="unused">
                            <Run>
                                <Binding Path="ConnectedWorkOrderSkill.Name" Mode="OneWay"/>
                            </Run>
                        </Hyperlink>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="17" TextAlignment="Right" Margin="0,10,0,0">Displayed Location:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="17" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="DisplayedLocation" Converter="{StaticResource convEnumToText}" ConverterParameter="MapAreaNameTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Favor Reward:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="0" TextWrapping="Wrap" Margin="5,0,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawRewardFavor" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="1" TextAlignment="Right" Margin="0,10,0,0">Skill XP Reward:</TextBlock>
                    <StackPanel Grid.Column="3" Grid.Row="1" Visibility="{Binding ConnectedRewardSkill, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal" Margin="5,10,0,0">
                        <TextBlock Text="{Binding RewardSkillXp}"/>
                        <TextBlock Margin="5,0,5,0">XP in</TextBlock>
                        <TextBlock TextWrapping="Wrap">
                            <Hyperlink x:Name="hyperlink_Quest_ConnectedRewardSkill" Click="OnRequestNavigate" NavigateUri="unused">
                                <Run>
                                    <Binding Path="ConnectedRewardSkill.Name" Mode="OneWay"/>
                                </Run>
                            </Hyperlink>
                        </TextBlock>
                    </StackPanel>
                    <TextBlock Grid.Column="2" Grid.Row="2" TextAlignment="Right" Margin="0,10,0,0">Recipe Reward:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="2" TextWrapping="Wrap" Margin="5,10,0,0">
                        <Hyperlink x:Name="hyperlink_Quest_RewardRecipe" Click="OnRequestNavigate" NavigateUri="unused">
                            <Run>
                                <Binding Path="RewardRecipe.Name" Mode="OneWay"/>
                            </Run>
                        </Hyperlink>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="4" TextAlignment="Right" Margin="0,10,0,0">Guild XP Reward:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="4" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawRewardGuildXp" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="5" TextAlignment="Right" Margin="0,10,0,0">Guild Credit Reward:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="5" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawRewardGuildCredits" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="6" TextAlignment="Right" Margin="0,10,0,0">Quest Items Given:</TextBlock>
                    <Grid Grid.Column="3" Grid.Row="6" Margin="5,10,0,0">
                        <ItemsControl x:Name="ctrl_SearchResultQuestContent_ItemGiven" ItemsSource="{Binding PreGiveItemList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:ListMemberSelector x:Name="SearchResultQuestContent_ItemGiven" Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                    </Grid>
                    <TextBlock Grid.Column="2" Grid.Row="7" TextAlignment="Right" Margin="0,10,0,0">Level:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="7" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawTSysLevel" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="8" TextAlignment="Right" Margin="0,10,0,0">Gold Reward:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="8" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawRewardGold" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="9" TextAlignment="Right" Margin="0,10,0,0">Recipes Given:</TextBlock>
                    <Grid Grid.Column="3" Grid.Row="9" Margin="5,10,0,0">
                        <ItemsControl x:Name="ctrl_SearchResultQuestContent_RecipeGiven" ItemsSource="{Binding PreGiveRecipeList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:ListMemberSelector x:Name="SearchResultQuestContent_RecipeGiven" Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                    </Grid>
                    <TextBlock Grid.Column="2" Grid.Row="10" TextAlignment="Right" Margin="0,10,0,0">Keywords:</TextBlock>
                    <Grid Grid.Column="3" Grid.Row="10" Margin="5,10,0,0">
                        <ItemsControl x:Name="ctrl_SearchResultQuestContent_Keywords" ItemsSource="{Binding KeywordList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:ListMemberSelector x:Name="SearchResultQuestContent_Keywords" Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                    </Grid>
                    <TextBlock Grid.Column="2" Grid.Row="11" TextAlignment="Right" Margin="0,10,0,0">Effect Reward:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="11" TextWrapping="Wrap" Margin="5,10,0,0">
                        <Hyperlink x:Name="hyperlink_Quest_RewardEffect" Click="OnRequestNavigate" NavigateUri="unused">
                            <Run>
                                <Binding Path="RewardEffect.Name" Mode="OneWay"/>
                            </Run>
                        </Hyperlink>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="12" TextAlignment="Right" Margin="0,10,0,0">Is Auto Preface:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="12" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawIsAutoPreface" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="13" TextAlignment="Right" Margin="0,10,0,0">Is Auto WrapUp:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="13" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawIsAutoWrapUp" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="14" TextAlignment="Right" Margin="0,10,0,0">Grouping Name:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="14" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="GroupingName" Converter="{StaticResource convEnumToText}" ConverterParameter="QuestGroupingNameTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="15" TextAlignment="Right" Margin="0,10,0,0">Is Guild Quest:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="15" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawIsGuildQuest" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="16" TextAlignment="Right" Margin="0,10,0,0">Expected Number Of Participants:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="16" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawNumExpectedParticipants" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="17" TextAlignment="Right" Margin="0,10,0,0">Lore Book Reward:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="17" TextWrapping="Wrap" Margin="5,10,0,0">
                        <Hyperlink x:Name="hyperlink_Quest_RewardLoreBook" Click="OnRequestNavigate" NavigateUri="unused">
                            <Run>
                                <Binding Path="RewardLoreBook.Title" Mode="OneWay"/>
                            </Run>
                        </Hyperlink>
                    </TextBlock>
                </Grid>
                <Grid VerticalAlignment="Top" Margin="0,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Expander Grid.Column="0" Header="Requirements:" IsExpanded="True" Margin="0,0,5,0">
                        <ItemsControl ItemsSource="{Binding QuestRequirementList}" HorizontalAlignment="Left" Margin="0,0,0,0">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:TypeToTemplateNameSelector Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </Expander>
                    <Expander Grid.Column="1" Header="Requirements to sustain:" IsExpanded="True" Margin="5,0,0,0">
                        <ItemsControl ItemsSource="{Binding QuestRequirementToSustainList}" HorizontalAlignment="Left" Margin="0,0,0,0">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:TypeToTemplateNameSelector Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </Expander>
                </Grid>
            </DockPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultRecipeTitleTemplate">
            <StackPanel Orientation="Horizontal" Margin="2,2,2,2">
                <Image Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="24" Height="24"/>
                <TextBlock FontWeight="Bold" VerticalAlignment="Center" Margin="10,0,0,0">Recipe:</TextBlock>
                <TextBlock Text="{Binding Name}" VerticalAlignment="Center" Margin="5,0,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultRecipeContent_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock>
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="RecipeKeywordTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultRecipeContent_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock>
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="RecipeKeywordTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultRecipeContentTemplate">
            <DockPanel>
                <DockPanel DockPanel.Dock="Top">
                    <Image DockPanel.Dock="Left" Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="64" Height="64"/>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock FontWeight="Bold" FontSize="40" VerticalAlignment="Center" Margin="20,0,0,0">Recipe:</TextBlock>
                        <TextBlock Text="{Binding Name}" FontSize="40" VerticalAlignment="Center" Margin="10,0,0,0"/>
                    </StackPanel>
                </DockPanel>
                <Grid VerticalAlignment="Top" Margin="0,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Description:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="0" Text="{Binding Description}" TextWrapping="Wrap" Margin="5,0,0,0"/>
                    <TextBlock Grid.Column="0" Grid.Row="1" TextAlignment="Right" Margin="0,10,0,0">Ingredients:</TextBlock>
                    <ItemsControl Grid.Column="1" Grid.Row="1" ItemsSource="{Binding IngredientList}" HorizontalAlignment="Left" Margin="5,10,0,0">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <app:TypeToTemplateNameSelector Content="{Binding}"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                    <TextBlock Grid.Column="0" Grid.Row="2" TextAlignment="Right" Margin="0,10,0,0">Result:</TextBlock>
                    <ItemsControl Grid.Column="1" Grid.Row="2" ItemsSource="{Binding ResultItemList}" HorizontalAlignment="Left" Margin="5,10,0,0">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <app:TypeToTemplateNameSelector Content="{Binding}"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                    <TextBlock Grid.Column="0" Grid.Row="3" TextAlignment="Right" Margin="0,10,0,0">Skill:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="3" TextWrapping="Wrap" Margin="5,10,0,0">
                                    <Hyperlink x:Name="hyperlink_Recipe_ConnectedSkill" Click="OnRequestNavigate" NavigateUri="unused">
                                        <Run>
                                            <Binding Path="ConnectedSkill.Name" Mode="OneWay"/>
                                        </Run>
                                    </Hyperlink>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="4" TextAlignment="Right" Margin="0,10,0,0">Required Level:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="4" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawSkillLevelReq" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="5" TextAlignment="Right" Margin="0,10,0,0">Result Effects:</TextBlock>
                    <ItemsControl Grid.Column="1" Grid.Row="5" ItemsSource="{Binding ResultEffectList}" HorizontalAlignment="Left" Margin="5,10,0,0">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding CombinedEffect}"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                    <TextBlock Grid.Column="0" Grid.Row="6" TextAlignment="Right" Margin="0,10,0,0">Sort Skill:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="6" TextWrapping="Wrap" Margin="5,10,0,0">
                        <Hyperlink x:Name="hyperlink_Recipe_ConnectedSortSkill" Click="OnRequestNavigate" NavigateUri="unused">
                            <Run>
                                <Binding Path="ConnectedSkill.Name" Mode="OneWay"/>
                            </Run>
                        </Hyperlink>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="7" TextAlignment="Right" Margin="0,10,0,0">Keywords:</TextBlock>
                    <Grid Grid.Column="1" Grid.Row="7" Margin="5,10,0,0">
                        <ItemsControl x:Name="ctrl_SearchResultRecipeContent" ItemsSource="{Binding KeywordList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:ListMemberSelector x:Name="SearchResultRecipeContent" Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                    </Grid>
                    <TextBlock Grid.Column="0" Grid.Row="8" TextAlignment="Right" Margin="0,10,0,0">Action:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="8" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="ActionLabel" Converter="{StaticResource convEnumToText}" ConverterParameter="RecipeActionTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="9" TextAlignment="Right" Margin="0,10,0,0">Usage Delay:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="9" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawUsageDelay" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="10" TextAlignment="Right" FontStyle="Italic" Margin="0,10,0,0">Cotton cost:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="10" TextWrapping="Wrap" FontStyle="Italic" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="PerfectCottonRatio" Converter="{StaticResource convDouble}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="11" TextAlignment="Right" Margin="0,10,0,0">Item Menu Label:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="11" Text="{Binding ItemMenuLabel}" TextWrapping="Wrap" Margin="5,10,0,0"/>
                    <TextBlock Grid.Column="0" Grid.Row="12" TextAlignment="Right" Margin="0,10,0,0">Item Menu Keyword Requirement:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="12" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RecipeItemKeyword" Converter="{StaticResource convEnumToText}" ConverterParameter="ItemKeywordTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Usage Delay Message:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="0" Text="{Binding UsageDelayMessage}" TextWrapping="Wrap" Margin="5,0,0,0"/>
                    <TextBlock Grid.Column="2" Grid.Row="1" TextAlignment="Right" Margin="0,10,0,0">Usage Animation:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="1" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="UsageAnimation" Converter="{StaticResource convEnumToText}" ConverterParameter="RecipeUsageAnimationTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="2" TextAlignment="Right" Margin="0,10,0,0">Other Requirements:</TextBlock>
                    <ItemsControl Grid.Column="3" Grid.Row="2" ItemsSource="{Binding OtherRequirementList}" Margin="5,10,0,0">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <app:TypeToTemplateNameSelector Content="{Binding}"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                    </ItemsControl>
                    <TextBlock Grid.Column="2" Grid.Row="3" TextAlignment="Right" Margin="0,10,0,0">Cost:</TextBlock>
                    <ItemsControl Grid.Column="3" Grid.Row="3" ItemsSource="{Binding CostList}" ItemTemplate="{StaticResource RecipeCostTemplate}" Margin="5,10,0,0"/>
                    <TextBlock Grid.Column="2" Grid.Row="4" TextAlignment="Right" Margin="0,10,0,0">Number of Resulting Items:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="4" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawNumResultItems" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="5" TextAlignment="Right" Margin="0,10,0,0">Reset Time (in seconds):</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="5" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawResetTimeInSeconds" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="6" TextAlignment="Right" Margin="0,10,0,0">Dye Color:</TextBlock>
                    <Rectangle Grid.Column="3" Grid.Row="6" HorizontalAlignment="Left" Width="50" Margin="5,10,0,0" Fill="{Binding DyeColor, Converter={StaticResource convRgbColorToBrush}, FallbackValue=Transparent}"/>
                    <TextBlock Grid.Column="2" Grid.Row="7" TextAlignment="Right" Margin="0,10,0,0">Reward Skill:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="7" TextWrapping="Wrap" Margin="5,10,0,0">
                                    <Hyperlink x:Name="hyperlink_Recipe_ConnectedRewardSkill" Click="OnRequestNavigate" NavigateUri="unused">
                                        <Run>
                                            <Binding Path="ConnectedRewardSkill.Name" Mode="OneWay"/>
                                        </Run>
                                    </Hyperlink>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="8" TextAlignment="Right" Margin="0,10,0,0">XP Reward:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="8" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawRewardSkillXp" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="9" TextAlignment="Right" Margin="0,10,0,0">First Time XP Reward:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="9" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawRewardSkillXpFirstTime" Converter="{StaticResource convNullableInt}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="10" TextAlignment="Right" Margin="0,10,0,0">Source:</TextBlock>
                    <ItemsControl Grid.Column="3" Grid.Row="10" ItemsSource="{Binding SourceList}" Margin="5,10,0,0">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <app:TypeToTemplateNameSelector Content="{Binding}"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                    <TextBlock Grid.Column="2" Grid.Row="11" TextAlignment="Right" Margin="0,10,0,0">Is Item Menu Keyword Requirement Sufficient:</TextBlock>
                    <TextBlock Grid.Column="3" Grid.Row="11" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="RawIsItemMenuKeywordReqSufficient" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Grid.Row="12" TextAlignment="Right" Margin="0,10,0,0">Item Menu Category:</TextBlock>
                    <StackPanel Grid.Column="3" Grid.Row="12" Orientation="Horizontal" Visibility="{Binding RawItemMenuCategory, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Margin="5,10,0,0">
                        <TextBlock Text="{Binding RawItemMenuCategory}" Margin="0,0,5,0"/>
                        <TextBlock>(</TextBlock>
                        <TextBlock Text="{Binding ItemMenuCategoryLevel}"/>
                        <TextBlock>)</TextBlock>
                    </StackPanel>
                </Grid>
            </DockPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultSkillTitleTemplate">
            <StackPanel Orientation="Horizontal" Margin="2,2,2,2">
                <Image Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="24" Height="24"/>
                <TextBlock FontWeight="Bold" VerticalAlignment="Center" Margin="10,0,0,0">Skill:</TextBlock>
                <TextBlock Text="{Binding Name}" VerticalAlignment="Center" Margin="5,0,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultSkillContent_CompatibleSkill_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock>
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="PowerSkillTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultSkillContent_CompatibleSkill_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock>
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="PowerSkillTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultSkillContent_Keyword_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock FontStyle="Italic">
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="RaceTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultSkillContent_Keyword_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock FontStyle="Italic" Margin="0,0,5,0">,</TextBlock>
                <TextBlock FontStyle="Italic">
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="RaceTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultSkillContent_BlIf_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock FontStyle="Italic">
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="RaceTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultSkillContent_BlIf_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock FontStyle="Italic" Margin="0,0,5,0">,</TextBlock>
                <TextBlock FontStyle="Italic">
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="RaceTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultSkillContent_MiscIf_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock FontStyle="Italic">
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="RaceTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultSkillContent_MiscIf_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock FontStyle="Italic" Margin="0,0,5,0">,</TextBlock>
                <TextBlock FontStyle="Italic">
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="RaceTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultSkillContent_RecipeIf_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock FontStyle="Italic">
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="RaceTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultSkillContent_RecipeIf_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock FontStyle="Italic" Margin="0,0,5,0">,</TextBlock>
                <TextBlock FontStyle="Italic">
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="RaceTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="XpTemplate">
            <Grid HorizontalAlignment="Center">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="100"/>
                    <ColumnDefinition Width="50"/>
                    <ColumnDefinition Width="80"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="{Binding Xp}"/>
                <TextBlock Grid.Column="1" Text="{Binding Level}"/>
                <TextBlock Grid.Column="2" Text="{Binding TotalXp}"/>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="SkillRewardAbilityTemplate">
            <WrapPanel>
                <TextBlock TextWrapping="Wrap" Margin="0,0,5,0">
                    <Span>
                        <Run>Level</Run>
                        <Run>
                            <Binding Path="RewardLevel" Mode="OneWay"/>
                        </Run>
                        <Run>, ability:</Run>
                        <Hyperlink x:Name="hyperlink_SkillRewardAbility_Ability" Click="OnRequestNavigate" NavigateUri="unused">
                            <Run>
                                <Binding Path="Ability.Name" Mode="OneWay"/>
                            </Run>
                        </Hyperlink>
                    </Span>
                </TextBlock>
                <StackPanel Visibility="{Binding RaceRestrictionList.Count, Converter={StaticResource convIntToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal">
                    <TextBlock FontStyle="Italic">(Only if</TextBlock>
                    <ItemsControl x:Name="ctrl_SearchResultSkillContent_Keyword" ItemsSource="{Binding RaceRestrictionList}" Margin="5,0,0,0">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <app:ListMemberSelector x:Name="SearchResultSkillContent_Keyword" Content="{Binding}"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel Orientation="Horizontal"/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                    </ItemsControl>
                    <TextBlock FontStyle="Italic">)</TextBlock>
                </StackPanel>
            </WrapPanel>
        </DataTemplate>
        <DataTemplate x:Key="SkillRewardBonusLevelTemplate">
            <WrapPanel>
                <TextBlock TextWrapping="Wrap" Margin="0,0,5,0">
                    <Span>
                        <Run>Level</Run>
                        <Run>
                            <Binding Path="RewardLevel" Mode="OneWay"/>
                        </Run>
                        <Run>, +1 in</Run>
                        <Hyperlink x:Name="hyperlink_SkillRewardBonusLevel_Skill" Click="OnRequestNavigate" NavigateUri="unused">
                            <Run>
                                <Binding Path="Skill.Name" Mode="OneWay"/>
                            </Run>
                        </Hyperlink>
                    </Span>
                </TextBlock>
                <StackPanel Visibility="{Binding RaceRestrictionList.Count, Converter={StaticResource convIntToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal">
                    <TextBlock FontStyle="Italic">(Only if</TextBlock>
                    <ItemsControl x:Name="ctrl_SearchResultSkillContent_BlIf" ItemsSource="{Binding RaceRestrictionList}" Margin="5,0,0,0">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <app:ListMemberSelector x:Name="SearchResultSkillContent_BlIf" Content="{Binding}"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel Orientation="Horizontal"/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                    </ItemsControl>
                    <TextBlock FontStyle="Italic">)</TextBlock>
                </StackPanel>
            </WrapPanel>
        </DataTemplate>
        <DataTemplate x:Key="SkillRewardMiscTemplate">
            <WrapPanel>
                <TextBlock TextWrapping="Wrap" Margin="0,0,5,0">
                    <Span>
                        <Run>
                            <Binding Path="Text" Mode="OneWay"/>
                        </Run>
                    </Span>
                </TextBlock>
                <StackPanel Visibility="{Binding RaceRestrictionList.Count, Converter={StaticResource convIntToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal">
                    <TextBlock FontStyle="Italic">(Only if</TextBlock>
                    <ItemsControl x:Name="ctrl_SearchResultSkillContent_MiscIf" ItemsSource="{Binding RaceRestrictionList}" Margin="5,0,0,0">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <app:ListMemberSelector x:Name="SearchResultSkillContent_MiscIf" Content="{Binding}"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel Orientation="Horizontal"/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                    </ItemsControl>
                    <TextBlock FontStyle="Italic">)</TextBlock>
                </StackPanel>
            </WrapPanel>
        </DataTemplate>
        <DataTemplate x:Key="SkillRewardRecipeTemplate">
            <WrapPanel>
                <TextBlock TextWrapping="Wrap" Margin="0,0,5,0">
                    <Span>
                        <Run>Level</Run>
                        <Run>
                            <Binding Path="RewardLevel" Mode="OneWay"/>
                        </Run>
                        <Run>, recipe:</Run>
                        <Hyperlink x:Name="hyperlink_SkillRewardRecipe_Recipe" Click="OnRequestNavigate" NavigateUri="unused">
                            <Run>
                                <Binding Path="Recipe.Name" Mode="OneWay"/>
                            </Run>
                        </Hyperlink>
                    </Span>
                </TextBlock>
                <StackPanel Visibility="{Binding RaceRestrictionList.Count, Converter={StaticResource convIntToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" Orientation="Horizontal">
                    <TextBlock FontStyle="Italic">(Only if</TextBlock>
                    <ItemsControl x:Name="ctrl_SearchResultSkillContent_RecipeIf" ItemsSource="{Binding RaceRestrictionList}" Margin="5,0,0,0">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <app:ListMemberSelector x:Name="SearchResultSkillContent_RecipeIf" Content="{Binding}"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel Orientation="Horizontal"/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                    </ItemsControl>
                    <TextBlock FontStyle="Italic">)</TextBlock>
                </StackPanel>
            </WrapPanel>
        </DataTemplate>
        <DataTemplate x:Key="SkillRewardUnlockTemplate">
            <TextBlock TextWrapping="Wrap">
                <Span>
                    <Run>Level</Run>
                    <Run>
                        <Binding Path="RewardLevel" Mode="OneWay"/>
                    </Run>
                    <Run>, unlock</Run>
                    <Hyperlink x:Name="hyperlink_SkillRewardBonusLevel_Skill" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Skill.Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                    <Run>level</Run>
                    <Run>
                        <Binding Path="Level" Mode="OneWay"/>
                    </Run>
                </Span>
            </TextBlock>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultSkillContentTemplate">
            <DockPanel LostFocus="OnContentTemplateLostFocus">
                <DockPanel DockPanel.Dock="Top">
                    <Image DockPanel.Dock="Left" Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="64" Height="64"/>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock FontWeight="Bold" FontSize="40" VerticalAlignment="Center" Margin="20,0,0,0">Skill:</TextBlock>
                        <TextBlock Text="{Binding Name}" FontSize="40" VerticalAlignment="Center" Margin="10,0,0,0"/>
                    </StackPanel>
                </DockPanel>
                <Grid VerticalAlignment="Top" Margin="0,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid Grid.Column="0" VerticalAlignment="Top">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Description:</TextBlock>
                        <TextBlock Grid.Column="1" Grid.Row="0" Text="{Binding Description}" TextWrapping="Wrap" Margin="5,0,0,0"/>
                        <TextBlock Grid.Column="0" Grid.Row="1" TextAlignment="Right" Margin="0,10,0,0">Hide When Zero:</TextBlock>
                        <TextBlock Grid.Column="1" Grid.Row="1" TextWrapping="Wrap" Margin="5,10,0,0">
                            <TextBlock.Text>
                                <Binding Path="RawHideWhenZero" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                            </TextBlock.Text>
                        </TextBlock>
                        <TextBlock Grid.Column="0" Grid.Row="2" TextAlignment="Right" Margin="0,10,0,0">XP Table:</TextBlock>
                        <Grid Grid.Column="1" Grid.Row="2" HorizontalAlignment="Left" Margin="5,10,0,0">
                            <DockPanel>
                                <ToggleButton x:Name="buttonXpTable" DockPanel.Dock="Right" Width="20" Height="20" Template="{StaticResource XpTableToggleButton}" ClickMode="Press" Checked="OnXpTableButtonChecked"/>
                                <TextBlock Grid.Column="0" Grid.Row="2" TextWrapping="Wrap" Margin="0,0,10,0">
                                    <TextBlock.Text>
                                        <Binding Path="XpTable.EnumName" Converter="{StaticResource convEnumToText}" ConverterParameter="XpTableEnumTextMap"/>
                                    </TextBlock.Text>
                                </TextBlock>
                            </DockPanel>
                            <p:Popup IsOpen="{Binding IsChecked, ElementName=buttonXpTable}" Placement="Bottom" AllowsTransparency="False" Focusable="False" StaysOpen="False" MaxHeight="400">
                                <Border BorderBrush="DarkGray" BorderThickness="1">
                                    <ScrollViewer>
                                        <DockPanel>
                                            <Border DockPanel.Dock="Top" BorderBrush="DarkGray" BorderThickness="0,0,0,1" Background="LightGray">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="102"/>
                                                        <ColumnDefinition Width="52"/>
                                                        <ColumnDefinition Width="82"/>
                                                        <ColumnDefinition/>
                                                    </Grid.ColumnDefinitions>
                                                    <Border Grid.Column="0" BorderBrush="DarkGray" BorderThickness="0,0,1,0" Background="LightGray" Padding="0,1,0,1">
                                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">XP to reach</TextBlock>
                                                    </Border>
                                                    <Border Grid.Column="1" BorderBrush="DarkGray" BorderThickness="0,0,1,0" Background="LightGray" Padding="0,1,0,1">
                                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">Level</TextBlock>
                                                    </Border>
                                                    <Border Grid.Column="2" BorderBrush="DarkGray" BorderThickness="0,0,1,0" Background="LightGray" Padding="0,1,0,1">
                                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">Total</TextBlock>
                                                    </Border>
                                                </Grid>
                                            </Border>
                                            <p:ListBox ItemsSource="{Binding XpTable.XpAmountList}" ItemTemplate="{StaticResource XpTemplate}" BorderBrush="Transparent" BorderThickness="0,0,0,0" ItemContainerStyle="{StaticResource styleListBoxItemNotFocusable}"/>
                                        </DockPanel>
                                    </ScrollViewer>
                                </Border>
                            </p:Popup>
                        </Grid>
                        <TextBlock Grid.Column="0" Grid.Row="3" TextAlignment="Right" Margin="0,10,0,0">Advancement Table:</TextBlock>
                        <TextBlock Grid.Column="1" Grid.Row="3" Text="{Binding AdvancementTable.InternalName}" TextWrapping="Wrap" Margin="5,10,0,0"/>
                        <TextBlock Grid.Column="0" Grid.Row="4" TextAlignment="Right" Margin="0,10,0,0">Combat:</TextBlock>
                        <TextBlock Grid.Column="1" Grid.Row="4" TextWrapping="Wrap" Margin="5,10,0,0">
                            <TextBlock.Text>
                                <Binding Path="RawCombat" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                            </TextBlock.Text>
                        </TextBlock>
                        <TextBlock Grid.Column="0" Grid.Row="5" TextAlignment="Right" Margin="0,10,0,0">Compatible Skills:</TextBlock>
                        <Grid Grid.Column="1" Grid.Row="5" Margin="5,10,0,0">
                            <ItemsControl x:Name="ctrl_SearchResultSkillContent_CompatibleSkill" ItemsSource="{Binding CompatibleCombatSkillList}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <app:ListMemberSelector x:Name="SearchResultSkillContent_CompatibleSkill" Content="{Binding}"/>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <WrapPanel/>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                            </ItemsControl>
                        </Grid>
                        <TextBlock Grid.Column="0" Grid.Row="6" TextAlignment="Right" Margin="0,10,0,0">Max Bonus Levels:</TextBlock>
                        <TextBlock Grid.Column="1" Grid.Row="6" TextWrapping="Wrap" Margin="5,10,0,0">
                            <TextBlock.Text>
                                <Binding Path="RawMaxBonusLevels" Converter="{StaticResource convNullableInt}"/>
                            </TextBlock.Text>
                        </TextBlock>
                        <TextBlock Grid.Column="0" Grid.Row="7" TextAlignment="Right" Margin="0,10,0,0">Parent Skill:</TextBlock>
                        <TextBlock Grid.Column="1" Grid.Row="7" TextWrapping="Wrap" Margin="5,10,0,0">
                                        <Hyperlink x:Name="hyperlink_Recipe_ConnectedParentSkill" Click="OnRequestNavigate" NavigateUri="unused">
                                            <Run>
                                                <Binding Path="ConnectedParentSkill.Name" Mode="OneWay"/>
                                            </Run>
                                        </Hyperlink>
                        </TextBlock>
                        <TextBlock Grid.Column="0" Grid.Row="8" TextAlignment="Right" Margin="0,10,0,0">Skip Bonus Levels If Skill Unlearned:</TextBlock>
                        <TextBlock Grid.Column="1" Grid.Row="8" TextWrapping="Wrap" Margin="5,10,0,0">
                            <TextBlock.Text>
                                <Binding Path="RawSkipBonusLevelsIfSkillUnlearned" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                            </TextBlock.Text>
                        </TextBlock>
                        <TextBlock Grid.Column="0" Grid.Row="9" TextAlignment="Right" Margin="0,10,0,0">Is Auxiliary Combat Skill:</TextBlock>
                        <TextBlock Grid.Column="1" Grid.Row="9" TextWrapping="Wrap" Margin="5,10,0,0">
                            <TextBlock.Text>
                                <Binding Path="RawAuxCombat" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                            </TextBlock.Text>
                        </TextBlock>
                    </Grid>
                    <Grid Grid.Column="1" VerticalAlignment="Top" HorizontalAlignment="Center">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" TextAlignment="Right" Margin="0,0,0,0">Progress:</TextBlock>
                        <ItemsControl Grid.Column="1" ItemsSource="{Binding CombinedRewardList}" HorizontalAlignment="Left" Margin="5,0,0,0">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:SkillRewardSelector Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </Grid>
                </Grid>
            </DockPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultPowerTitleTemplate">
            <StackPanel Orientation="Horizontal" Margin="2,2,2,2">
                <Image Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="24" Height="24"/>
                <TextBlock FontWeight="Bold" VerticalAlignment="Center" Margin="10,0,0,0">Mod:</TextBlock>
                <TextBlock Text="{Binding ComposedName}" VerticalAlignment="Center" Margin="5,0,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultPowerContent_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock>
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="ItemSlotTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultPowerContent_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock>
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="ItemSlotTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultPowerContentTemplate">
            <DockPanel>
                <DockPanel DockPanel.Dock="Top">
                    <Image DockPanel.Dock="Left" Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="64" Height="64"/>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock FontWeight="Bold" FontSize="40" VerticalAlignment="Center" Margin="20,0,0,0">Mod:</TextBlock>
                        <TextBlock Text="{Binding ComposedName}" FontSize="40" VerticalAlignment="Center" Margin="10,0,0,0"/>
                    </StackPanel>
                </DockPanel>
                <Grid VerticalAlignment="Top" Margin="0,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid Grid.Column="0" VerticalAlignment="Top">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Prefix:</TextBlock>
                        <TextBlock Grid.Column="1" Grid.Row="0" Text="{Binding Prefix}" TextWrapping="Wrap" Margin="5,0,0,0"/>
                        <TextBlock Grid.Column="0" Grid.Row="1" TextAlignment="Right" Margin="0,10,0,0">Suffix:</TextBlock>
                        <TextBlock Grid.Column="1" Grid.Row="1" Text="{Binding Suffix}" TextWrapping="Wrap" Margin="5,10,0,0"/>
                        <TextBlock Grid.Column="0" Grid.Row="2" TextAlignment="Right" Margin="0,10,0,0">Slots:</TextBlock>
                        <Grid Grid.Column="1" Grid.Row="2" Margin="5,10,0,0">
                            <ItemsControl x:Name="ctrl_SearchResultPowerContent" ItemsSource="{Binding SlotList}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <app:ListMemberSelector x:Name="SearchResultPowerContent" Content="{Binding}"/>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <WrapPanel/>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                            </ItemsControl>
                        </Grid>
                        <TextBlock Grid.Column="0" Grid.Row="3" TextAlignment="Right" Margin="0,10,0,0">Skill:</TextBlock>
                        <Grid Grid.Column="1" Grid.Row="3" Margin="5,10,0,0">
                            <TextBlock Visibility="{Binding ConnectedSkill, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource VisibleCollapsed}, FallbackValue=Visible}" TextWrapping="Wrap">
                                <TextBlock.Text>
                                    <Binding Path="Skill" Converter="{StaticResource convEnumToText}" ConverterParameter="PowerSkillTextMap"/>
                                </TextBlock.Text>
                            </TextBlock>
                            <TextBlock Visibility="{Binding ConnectedSkill, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" TextWrapping="Wrap">
                                            <Hyperlink x:Name="hyperlink_Recipe_ConnectedSkill" Click="OnRequestNavigate" NavigateUri="unused">
                                                <Run>
                                                    <Binding Path="ConnectedSkill.Name" Mode="OneWay"/>
                                                </Run>
                                            </Hyperlink>
                            </TextBlock>
                        </Grid>
                        <TextBlock Grid.Column="0" Grid.Row="4" TextAlignment="Right" Margin="0,10,0,0">Is Unavailable:</TextBlock>
                        <TextBlock Grid.Column="1" Grid.Row="4" TextWrapping="Wrap" Margin="5,10,0,0">
                            <TextBlock.Text>
                                <Binding Path="RawIsUnavailable" Converter="{StaticResource convNullableBooleanToObject}" ConverterParameter="{StaticResource NoYesNull}"/>
                            </TextBlock.Text>
                        </TextBlock>
                    </Grid>
                    <ItemsControl Grid.Column="1" ItemsSource="{Binding CombinedTierList}" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="5,0,0,0">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding}" TextWrapping="Wrap" Margin="0,0,0,2"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </Grid>
            </DockPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultLoreBookTitleTemplate">
            <StackPanel Orientation="Horizontal" Margin="2,2,2,2">
                <Image Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="24" Height="24"/>
                <TextBlock FontWeight="Bold" VerticalAlignment="Center" Margin="10,0,0,0">Lore Book:</TextBlock>
                <TextBlock Text="{Binding Title}" VerticalAlignment="Center" Margin="5,0,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultLoreBookContent_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock>
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="LoreBookKeywordTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultLoreBookContent_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock>
                    <TextBlock.Text>
                        <Binding Converter="{StaticResource convEnumToText}" ConverterParameter="LoreBookKeywordTextMap"/>
                    </TextBlock.Text>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="SearchResultLoreBookContentTemplate">
            <DockPanel>
                <DockPanel DockPanel.Dock="Top">
                    <Image DockPanel.Dock="Left" Source="{Binding SearchResultIconFileName, Converter={StaticResource convFileNameToBitmapImage}}" VerticalAlignment="Center" Width="64" Height="64"/>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock FontWeight="Bold" FontSize="40" VerticalAlignment="Center" Margin="20,0,0,0">Lore Book:</TextBlock>
                        <TextBlock Text="{Binding Title}" FontSize="40" VerticalAlignment="Center" Margin="10,0,0,0"/>
                    </StackPanel>
                </DockPanel>
                <Border DockPanel.Dock="Top" BorderBrush="Gray" BorderThickness="0,1,0,0" Height="2" Margin="5,5,5,5"/>
                <Grid VerticalAlignment="Top" Margin="0,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" Margin="0,0,0,0">Location Hint:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="0" Text="{Binding LocationHint}" TextWrapping="Wrap" Margin="5,0,0,0"/>
                    <TextBlock Grid.Column="0" Grid.Row="1" TextAlignment="Right" Margin="0,10,0,0">Category:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="1" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="Category" Converter="{StaticResource convEnumToText}" ConverterParameter="LoreBookCategoryTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="2" TextAlignment="Right" Margin="0,10,0,0">Keywords:</TextBlock>
                    <Grid Grid.Column="1" Grid.Row="2" Margin="5,10,0,0">
                        <ItemsControl x:Name="ctrl_SearchResultLoreBookContent" ItemsSource="{Binding KeywordList}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <app:ListMemberSelector x:Name="SearchResultLoreBookContent" Content="{Binding}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                    </Grid>
                    <TextBlock Grid.Column="0" Grid.Row="3" TextAlignment="Right" Margin="0,10,0,0">Is Client Local:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="3" Visibility="{Binding RawIsClientLocal, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="IsClientLocal" Converter="{StaticResource convBooleanToObject}" ConverterParameter="{StaticResource NoYes}"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="4" TextAlignment="Right" Margin="0,10,0,0">Visibility:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="4" TextWrapping="Wrap" Margin="5,10,0,0">
                        <TextBlock.Text>
                            <Binding Path="Visibility" Converter="{StaticResource convEnumToText}" ConverterParameter="LoreBookVisibilityTextMap"/>
                        </TextBlock.Text>
                    </TextBlock>
                    <TextBlock Grid.Column="0" Grid.Row="5" TextAlignment="Right" Margin="0,10,0,0">Text:</TextBlock>
                    <TextBlock Grid.Column="1" Grid.Row="5" Text="{Binding Text}" TextWrapping="Wrap" Margin="5,10,0,0"/>
                </Grid>
            </DockPanel>
        </DataTemplate>
        <DataTemplate x:Key="PowerSkillTemplate">
            <TextBlock>
                <TextBlock.Text>
                    <Binding Converter="{StaticResource convFriendlyName}"/>
                </TextBlock.Text>
            </TextBlock>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackAbility_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Ability_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackAbility_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Ability_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackAbilityTemplate">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" TextAlignment="Right">Abilities:</TextBlock>
                <ItemsControl x:Name="ctrl_LinkBackAbility" Grid.Column="1" ItemsSource="{Binding Value}" Margin="5,0,0,0">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <app:ListMemberSelector x:Name="LinkBackAbility" Content="{Binding}"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackDirectedGoal_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_DirectedGoal_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Label" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackDirectedGoal_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_DirectedGoal_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Label" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackDirectedGoalTemplate">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" TextAlignment="Right">Goals:</TextBlock>
                <ItemsControl x:Name="ctrl_LinkBackDirectedGoal" Grid.Column="1" ItemsSource="{Binding Value}" Margin="5,0,0,0">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <app:ListMemberSelector x:Name="LinkBackDirectedGoal" Content="{Binding}"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackGameNpc_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_GameNpc_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackGameNpc_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_GameNpc_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackGameNpcTemplate">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" TextAlignment="Right">Npc:</TextBlock>
                <ItemsControl x:Name="ctrl_LinkBackGameNpc" Grid.Column="1" ItemsSource="{Binding Value}" Margin="5,0,0,0">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <app:ListMemberSelector x:Name="LinkBackGameNpc" Content="{Binding}"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackStorageVault_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_StorageVault_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="NpcFriendlyName" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackStorageVault_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_StorageVault_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="NpcFriendlyName" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackStorageVaultTemplate">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" TextAlignment="Right">Storage:</TextBlock>
                <ItemsControl x:Name="ctrl_LinkBackStorageVault" Grid.Column="1" ItemsSource="{Binding Value}" Margin="5,0,0,0">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <app:ListMemberSelector x:Name="LinkBackStorageVault" Content="{Binding}"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackEffect_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Effect_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackEffect_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Effect_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackEffectTemplate">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" TextAlignment="Right">Effects:</TextBlock>
                <ItemsControl x:Name="ctrl_LinkBackEffect" Grid.Column="1" ItemsSource="{Binding Value}" Margin="5,0,0,0">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <app:ListMemberSelector x:Name="LinkBackEffect" Content="{Binding}"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackItem_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Item_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackItem_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Item_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackItemTemplate">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" TextAlignment="Right">Items:</TextBlock>
                <ItemsControl x:Name="ctrl_LinkBackItem" Grid.Column="1" ItemsSource="{Binding Value}" Margin="5,0,0,0">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <app:ListMemberSelector x:Name="LinkBackItem" Content="{Binding}"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackQuest_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Quest_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackQuest_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Quest_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackQuestTemplate">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" TextAlignment="Right">Quests:</TextBlock>
                <ItemsControl x:Name="ctrl_LinkBackQuest" Grid.Column="1" ItemsSource="{Binding Value}" Margin="5,0,0,0">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <app:ListMemberSelector x:Name="LinkBackQuest" Content="{Binding}"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackRecipe_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Recipe_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackRecipe_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Recipe_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackRecipeTemplate">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" TextAlignment="Right">Recipes:</TextBlock>
                <ItemsControl x:Name="ctrl_LinkBackRecipe" Grid.Column="1" ItemsSource="{Binding Value}" Margin="5,0,0,0">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <app:ListMemberSelector x:Name="LinkBackRecipe" Content="{Binding}"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackSkill_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Skill_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackSkill_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Skill_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="Name" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackSkillTemplate">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" TextAlignment="Right">Skills:</TextBlock>
                <ItemsControl x:Name="ctrl_LinkBackSkill" Grid.Column="1" ItemsSource="{Binding Value}" Margin="5,0,0,0">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <app:ListMemberSelector x:Name="LinkBackSkill" Content="{Binding}"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackPower_ItemTemplateFirst">
            <StackPanel Orientation="Horizontal">
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Power_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="ComposedName" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackPower_ItemTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="0,0,5,0">,</TextBlock>
                <TextBlock TextWrapping="Wrap">
                    <Hyperlink x:Name="hyperlink_Power_hyperlink" Click="OnRequestNavigate" NavigateUri="unused">
                        <Run>
                            <Binding Path="ComposedName" Mode="OneWay"/>
                        </Run>
                    </Hyperlink>
                </TextBlock>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="LinkBackPowerTemplate">
            <Grid>
                <Grid.Resources>
                </Grid.Resources>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" TextAlignment="Right">Mods:</TextBlock>
                <ItemsControl x:Name="ctrl_LinkBackPower" Grid.Column="1" ItemsSource="{Binding Value}" Margin="5,0,0,0">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <app:ListMemberSelector x:Name="LinkBackPower" Content="{Binding}"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </Grid>
        </DataTemplate>
        <DataTemplate x:Key="CrunchSelectionTemplate">
            <DockPanel>
                <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
                    <TextBlock Text="{Binding PrimarySkill}"/>
                    <TextBlock Margin="5,0,5,0">/</TextBlock>
                    <TextBlock Text="{Binding SecondarySkill}"/>
                </StackPanel>
                <Expander>
                    <Expander.Header>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0">DPS:</TextBlock>
                            <TextBlock Grid.Column="1" Text="{Binding BestDPSRounded}" Margin="5,0,10,0"/>
                            <TextBlock Grid.Column="2">Duration:</TextBlock>
                            <TextBlock Grid.Column="3" Text="{Binding BestFightDuration}" Margin="5,0,10,0"/>
                        </Grid>
                    </Expander.Header>
                    <StackPanel>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <TextBlock Grid.Column="0" Grid.Row="0" Text="{Binding AbilityList[0]}" Margin="5,5,5,5"/>
                            <TextBlock Grid.Column="1" Grid.Row="0" Text="{Binding AbilityList[1]}" Margin="5,5,5,5"/>
                            <TextBlock Grid.Column="2" Grid.Row="0" Text="{Binding AbilityList[2]}" Margin="5,5,5,5"/>
                            <TextBlock Grid.Column="3" Grid.Row="0" Text="{Binding AbilityList[3]}" Margin="5,5,5,5"/>
                            <TextBlock Grid.Column="4" Grid.Row="0" Text="{Binding AbilityList[4]}" Margin="5,5,5,5"/>
                            <TextBlock Grid.Column="5" Grid.Row="0" Text="{Binding AbilityList[5]}" Margin="5,5,5,5"/>
                            <TextBlock Grid.Column="0" Grid.Row="1" Text="{Binding AbilityList[6]}" Margin="5,5,5,5"/>
                            <TextBlock Grid.Column="1" Grid.Row="1" Text="{Binding AbilityList[7]}" Margin="5,5,5,5"/>
                            <TextBlock Grid.Column="2" Grid.Row="1" Text="{Binding AbilityList[8]}" Margin="5,5,5,5"/>
                            <TextBlock Grid.Column="3" Grid.Row="1" Text="{Binding AbilityList[9]}" Margin="5,5,5,5"/>
                            <TextBlock Grid.Column="4" Grid.Row="1" Text="{Binding AbilityList[10]}" Margin="5,5,5,5"/>
                            <TextBlock Grid.Column="5" Grid.Row="1" Text="{Binding AbilityList[11]}" Margin="5,5,5,5"/>
                        </Grid>
                        <ItemsControl ItemsSource="{Binding BestSequenceAbilityList}" Margin="0,10,0,0"/>
                    </StackPanel>
                </Expander>
            </DockPanel>
        </DataTemplate>
    </p:RootControl.Resources>
    <Grid>
        <TabControl Loaded="OnTabControlLoaded">
            <TabItem Header="Warnings">
                <DockPanel>
                    <Border DockPanel.Dock="Top" BorderThickness="0" BorderBrush="{x:Null}">
                        <TextBlock TextAlignment="Center" Margin="0,5,0,5">Downloaded content copyright © 2017, Elder Game, LLC</TextBlock>
                    </Border>
                    <Border DockPanel.Dock="Top" BorderBrush="Gray" BorderThickness="0,1,0,0" Height="2"/>
                    <TextBox Text="{Binding WarningText, Mode=OneWay}" IsReadOnly="True" VerticalScrollBarVisibility="Visible" BorderBrush="{x:Null}" BorderThickness="0" Margin="10,10,10,10"/>
                </DockPanel>
            </TabItem>
            <TabItem Header="Build Planer">
                <DockPanel Margin="10,10,10,10">
                    <DockPanel DockPanel.Dock="Top" LastChildFill="False">
                        <Grid DockPanel.Dock="Left" VerticalAlignment="Center">
                            <Border BorderBrush="LightGray" BorderThickness="1,1,1,1" CornerRadius="2,2,2,2" Margin="0,8,0,0" Padding="2,7,2,3">
                                <Grid Margin="5,5,5,5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition/>
                                        <RowDefinition/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" VerticalAlignment="Center">First Skill:</TextBlock>
                                    <p:ComboBox x:Name="comboFirstSkill" Grid.Column="1" Grid.Row="0" DockPanel.Dock="Left" ControlSelectedIndex="{Binding SelectedFirstSkill, Mode=TwoWay}" ItemsSource="{Binding CombatSkillList}" ItemTemplate="{StaticResource PowerSkillTemplate}" HorizontalAlignment="Left" VerticalAlignment="Center" SelectionChanged="OnRefreshBuildPlaner" Width="120" Margin="5,0,0,0"/>
                                    <TextBlock Grid.Column="0" Grid.Row="1" TextAlignment="Right" VerticalAlignment="Center" Margin="0,10,0,0">Max Level:</TextBlock>
                                    <TextBox Grid.Column="1" Grid.Row="1" Text="{Binding MaxLevelFirstSkill, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" HorizontalAlignment="Left" VerticalAlignment="Center" Width="50" Margin="5,10,0,0"/>
                                    <TextBlock Grid.Column="2" Grid.Row="0" TextAlignment="Right" VerticalAlignment="Center" Margin="10,0,0,0">Second Skill:</TextBlock>
                                    <p:ComboBox x:Name="comboSecondSkill" Grid.Column="3" Grid.Row="0" DockPanel.Dock="Left" ControlSelectedIndex="{Binding SelectedSecondSkill, Mode=TwoWay}" ItemsSource="{Binding CombatSkillList}" ItemTemplate="{StaticResource PowerSkillTemplate}" HorizontalAlignment="Left" VerticalAlignment="Center" SelectionChanged="OnRefreshBuildPlaner" Width="120" Margin="5,0,0,0"/>
                                    <TextBlock Grid.Column="2" Grid.Row="1" TextAlignment="Right" VerticalAlignment="Center" Margin="10,10,0,0">Max Level:</TextBlock>
                                    <TextBox Grid.Column="3" Grid.Row="1" Text="{Binding MaxLevelSecondSkill, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" HorizontalAlignment="Left" VerticalAlignment="Center" Width="50" Margin="5,10,0,0"/>
                                    <Button Grid.Row="0" Width="0"/>
                                    <CheckBox Grid.Row="1" Width="0"/>
                                </Grid>
                            </Border>
                            <TextBlock Background="White" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="7,0,0,0" Padding="2,0,2,0">Skill Selection</TextBlock>
                        </Grid>
                        <Grid DockPanel.Dock="Left" VerticalAlignment="Center" Margin="10,0,0,0">
                            <Border BorderBrush="LightGray" BorderThickness="1,1,1,1" CornerRadius="2,2,2,2" Margin="0,8,0,0" Padding="2,7,2,3">
                                <Grid Margin="5,5,5,5">
                                    <Grid.RowDefinitions>
                                        <RowDefinition/>
                                        <RowDefinition/>
                                    </Grid.RowDefinitions>
                                    <DockPanel Grid.Row="0">
                                        <TextBlock DockPanel.Dock="Left" VerticalAlignment="Center">Profile:</TextBlock>
                                        <Button DockPanel.Dock="Right" Command="{StaticResource OpenProfileFolderCommand}" VerticalAlignment="Center" Width="120" Height="24" Margin="10,0,0,0">Open Profile Folder</Button>
                                        <p:ComboBox ItemsSource="{Binding WeightProfileList}" ControlSelectedIndex="{Binding WeightProfileIndex, Mode=TwoWay}" SelectionChanged="OnProfileSelected" VerticalAlignment="Center" MinWidth="150" Margin="5,0,0,0"/>
                                    </DockPanel>
                                    <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,10,0,0">
                                        <CheckBox IsChecked="{Binding IgnoreUnobtainable}" Checked="OnIgnoreUnobtainableCheckChanged" Unchecked="OnIgnoreUnobtainableCheckChanged" VerticalAlignment="Center" Margin="10,0,0,0">Ignore unobtainable</CheckBox>
                                        <CheckBox IsChecked="{Binding IgnoreNoAttribute}" Checked="OnIgnoreNoAttributeCheckChanged" Unchecked="OnIgnoreNoAttributeCheckChanged" VerticalAlignment="Center" Margin="10,0,0,0">Ignore items with no match</CheckBox>
                                    </StackPanel>
                                    <TextBox Grid.Row="1" Width="0"/>
                                </Grid>
                            </Border>
                            <TextBlock Background="White" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="7,0,0,0" Padding="2,0,2,0">Gear Selection</TextBlock>
                        </Grid>
                        <Button DockPanel.Dock="Right" Command="{StaticResource CopyBuildCommand}" VerticalAlignment="Top" Width="120" Height="24" Margin="0,22,10,0">Copy to Clipboard</Button>
                        <Button DockPanel.Dock="Right" Command="{StaticResource SaveBuildCommand}" VerticalAlignment="Top" Width="120" Height="24" Margin="0,22,10,0">Save profile...</Button>
                        <Button DockPanel.Dock="Right" Command="{StaticResource LoadBuildCommand}" VerticalAlignment="Top" Width="120" Height="24" Margin="0,22,10,0">Load profile...</Button>
                    </DockPanel>
                    <TabControl Loaded="OnTabControlLoaded" Margin="0,10,0,0">
                        <TabItem HeaderTemplate="{StaticResource PlanerHeaderTemplate}" Header="{Binding HeadSlotPlaner}">
                            <ContentControl ContentTemplate="{StaticResource PlanerTemplate}" Content="{Binding HeadSlotPlaner}"/>
                        </TabItem>
                        <TabItem HeaderTemplate="{StaticResource PlanerHeaderTemplate}" Header="{Binding ChestSlotPlaner}">
                            <ContentControl ContentTemplate="{StaticResource PlanerTemplate}" Content="{Binding ChestSlotPlaner}"/>
                        </TabItem>
                        <TabItem HeaderTemplate="{StaticResource PlanerHeaderTemplate}" Header="{Binding LegSlotPlaner}">
                            <ContentControl ContentTemplate="{StaticResource PlanerTemplate}" Content="{Binding LegSlotPlaner}"/>
                        </TabItem>
                        <TabItem HeaderTemplate="{StaticResource PlanerHeaderTemplate}" Header="{Binding HandSlotPlaner}">
                            <ContentControl ContentTemplate="{StaticResource PlanerTemplate}" Content="{Binding HandSlotPlaner}"/>
                        </TabItem>
                        <TabItem HeaderTemplate="{StaticResource PlanerHeaderTemplate}" Header="{Binding FeetSlotPlaner}">
                            <ContentControl ContentTemplate="{StaticResource PlanerTemplate}" Content="{Binding FeetSlotPlaner}"/>
                        </TabItem>
                        <TabItem HeaderTemplate="{StaticResource PlanerHeaderTemplate}" Header="{Binding RingSlotPlaner}">
                            <ContentControl ContentTemplate="{StaticResource PlanerTemplate}" Content="{Binding RingSlotPlaner}"/>
                        </TabItem>
                        <TabItem HeaderTemplate="{StaticResource PlanerHeaderTemplate}" Header="{Binding NeckSlotPlaner}">
                            <ContentControl ContentTemplate="{StaticResource PlanerTemplate}" Content="{Binding NeckSlotPlaner}"/>
                        </TabItem>
                        <TabItem HeaderTemplate="{StaticResource PlanerHeaderTemplate}" Header="{Binding MainHandSlotPlaner}">
                            <ContentControl ContentTemplate="{StaticResource PlanerTemplate}" Content="{Binding MainHandSlotPlaner}"/>
                        </TabItem>
                        <TabItem HeaderTemplate="{StaticResource PlanerHeaderTemplate}" Header="{Binding OffHandSlotPlaner}">
                            <ContentControl ContentTemplate="{StaticResource PlanerTemplate}" Content="{Binding OffHandSlotPlaner}"/>
                        </TabItem>
                    </TabControl>
                </DockPanel>
            </TabItem>
            <TabItem Header="Advanced Search">
                <DockPanel Margin="10,10,10,10">
                    <DockPanel DockPanel.Dock="Left" Width="300">
                        <Grid DockPanel.Dock="Top">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <TextBlock Grid.Column="0" Grid.Row="0">Search:</TextBlock>
                            <DockPanel Grid.Column="1" Grid.Row="0" Margin="5,0,0,0">
                                <Button DockPanel.Dock="Right" Command="{StaticResource GoToCommand}" VerticalAlignment="Center" Margin="10,0,0,0">
                                    <Image Source="{StaticResource imgRedo}" Width="16" Height="16"/>
                                </Button>
                                <TextBox Text="{Binding SearchTerms, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" MaxLength="50" KeyDown="OnSearchTermsEntered" VerticalAlignment="Center"/>
                            </DockPanel>
                            <CheckBox Grid.Column="1" Grid.Row="1" IsChecked="{Binding MustMatchCase}" Checked="OnSearchCheckChanged" Unchecked="OnSearchCheckChanged" Margin="5,10,0,0">Match case</CheckBox>
                            <CheckBox Grid.Column="1" Grid.Row="2" IsChecked="{Binding MustMatchWholeWord}" Checked="OnSearchCheckChanged" Unchecked="OnSearchCheckChanged" Visibility="Collapsed" Margin="5,10,0,0">Match whole word</CheckBox>
                            <CheckBox Grid.Column="1" Grid.Row="3" IsChecked="{Binding IncludeAbility}" Checked="OnSearchCheckChanged" Unchecked="OnSearchCheckChanged" Margin="5,10,0,0">Abilities</CheckBox>
                            <CheckBox Grid.Column="1" Grid.Row="4" IsChecked="{Binding IncludeDirectedGoal}" Checked="OnSearchCheckChanged" Unchecked="OnSearchCheckChanged" Margin="5,10,0,0">Goals</CheckBox>
                            <CheckBox Grid.Column="1" Grid.Row="5" IsChecked="{Binding IncludeGameNpc}" Checked="OnSearchCheckChanged" Unchecked="OnSearchCheckChanged" Margin="5,10,0,0">Npc</CheckBox>
                            <CheckBox Grid.Column="1" Grid.Row="6" IsChecked="{Binding IncludeStorageVault}" Checked="OnSearchCheckChanged" Unchecked="OnSearchCheckChanged" Margin="5,10,0,0">Storage</CheckBox>
                            <CheckBox Grid.Column="1" Grid.Row="7" IsChecked="{Binding IncludeEffect}" Checked="OnSearchCheckChanged" Unchecked="OnSearchCheckChanged" Margin="5,10,0,0">Effects, buffs and debuffs</CheckBox>
                            <CheckBox Grid.Column="1" Grid.Row="8" IsChecked="{Binding IncludeItem}" Checked="OnSearchCheckChanged" Unchecked="OnSearchCheckChanged" Margin="5,10,0,0">Items</CheckBox>
                            <CheckBox Grid.Column="1" Grid.Row="9" IsChecked="{Binding IncludeQuest}" Checked="OnSearchCheckChanged" Unchecked="OnSearchCheckChanged" Margin="5,10,0,0">Quests</CheckBox>
                            <CheckBox Grid.Column="1" Grid.Row="10" IsChecked="{Binding IncludeRecipe}" Checked="OnSearchCheckChanged" Unchecked="OnSearchCheckChanged" Margin="5,10,0,0">Recipes</CheckBox>
                            <CheckBox Grid.Column="1" Grid.Row="11" IsChecked="{Binding IncludeSkill}" Checked="OnSearchCheckChanged" Unchecked="OnSearchCheckChanged" Margin="5,10,0,0">Skills</CheckBox>
                            <CheckBox Grid.Column="1" Grid.Row="12" IsChecked="{Binding IncludePower}" Checked="OnSearchCheckChanged" Unchecked="OnSearchCheckChanged" Margin="5,10,0,0">Treasure effects (mods)</CheckBox>
                            <CheckBox Grid.Column="1" Grid.Row="13" IsChecked="{Binding IncludeLoreBook}" Checked="OnSearchCheckChanged" Unchecked="OnSearchCheckChanged" Margin="5,10,0,0">Lore Books</CheckBox>
                        </Grid>
                        <Border DockPanel.Dock="Top" BorderBrush="Gray" BorderThickness="0,1,0,0" Height="2" Margin="5,10,5,10"/>
                        <Expander DockPanel.Dock="Top" Header="Search instructions">
                            <StackPanel>
                                <TextBlock TextWrapping="Wrap" Margin="0,10,0,0">Use AND or OR (case-sensitive, cannot be mixed) to separate terms for complex search. If neither is specified, the search is performed on the exact term, space included.</TextBlock>
                                <TextBlock TextWrapping="Wrap" Margin="0,10,0,0">Example:</TextBlock>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition/>
                                        <RowDefinition/>
                                        <RowDefinition/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Column="0" Grid.Row="0" TextAlignment="Right" FontStyle="Italic" Margin="0,5,0,0">cold damage AND ice</TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="0" Margin="0,5,0,0">:</TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="0" TextWrapping="Wrap" Margin="5,5,0,0">search for occurences of &quot;cold damage&quot; and &quot;ice&quot; in the same entry.</TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="1" TextAlignment="Right" FontStyle="Italic" Margin="0,5,0,0">nature OR fire OR crushing</TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="1" Margin="0,5,0,0">:</TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="1" TextWrapping="Wrap" Margin="5,5,0,0">search for occurences of &quot;nature&quot;, &quot;fire&quot; or &quot;crushing&quot; in any entry.</TextBlock>
                                    <TextBlock Grid.Column="0" Grid.Row="2" TextAlignment="Right" FontStyle="Italic" Margin="0,5,0,0">stuns opponent</TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="2" Margin="0,5,0,0">:</TextBlock>
                                    <TextBlock Grid.Column="2" Grid.Row="2" TextWrapping="Wrap" Margin="5,5,0,0">search for occurences of &quot;stuns opponent&quot; in any entry.</TextBlock>
                                </Grid>
                            </StackPanel>
                        </Expander>
                        <Border DockPanel.Dock="Top" BorderBrush="Gray" BorderThickness="0,1,0,0" Height="2" Margin="5,10,5,10"/>
                        <DockPanel DockPanel.Dock="Top">
                            <Grid DockPanel.Dock="Right" VerticalAlignment="Center">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Button Grid.Column="0" Command="{StaticResource BackwardCommand}" IsEnabled="{Binding IsBackwardEnabled}">
                                    <Image Source="{StaticResource imgUndo}" Width="24" Height="24" Margin="2,2,2,2"/>
                                </Button>
                                <Button Grid.Column="1" Command="{StaticResource ForwardCommand}" IsEnabled="{Binding IsForwardEnabled}" Margin="10,0,0,0">
                                    <Image Source="{StaticResource imgRedo}" Width="24" Height="24" Margin="2,2,2,2"/>
                                </Button>
                            </Grid>
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <TextBlock Text="{Binding SearchResult.Count}"/>
                                <TextBlock Margin="5,0,0,0">found.</TextBlock>
                            </StackPanel>
                        </DockPanel>
                        <ScrollViewer Margin="0,10,0,0">
                            <ListBox ItemsSource="{Binding SearchResult}" SelectedItem="{Binding SearchSelectedItem, Mode=TwoWay}" BorderBrush="{x:Null}" BorderThickness="0" Margin="0,10,0,0">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <app:SearchResultTitleSelector Content="{Binding}"/>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </ScrollViewer>
                    </DockPanel>
                    <ScrollViewer VerticalScrollBarVisibility="Visible" Margin="10,0,10,0">
                        <StackPanel>
                            <ContentControl Content="{Binding CurrentSearchItem}">
                                <ContentControl.ContentTemplate>
                                    <DataTemplate>
                                        <app:SearchResultContentSelector Content="{Binding}"/>
                                    </DataTemplate>
                                </ContentControl.ContentTemplate>
                            </ContentControl>
                            <StackPanel Visibility="{Binding CurrentSearchItem, Converter={StaticResource convNullToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}">
                                <Border BorderBrush="Gray" BorderThickness="0,1,0,0" Height="2" Margin="0,5,0,5"/>
                                <TextBlock Visibility="{Binding CurrentSearchItem.HasLinkBackTableEntries, Converter={StaticResource convBooleanToObject}, ConverterParameter={StaticResource CollapsedVisible}, FallbackValue=Collapsed}" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,5">The following pages link here</TextBlock>
                                <TextBlock Visibility="{Binding CurrentSearchItem.HasLinkBackTableEntries, Converter={StaticResource convBooleanToObject}, ConverterParameter={StaticResource VisibleCollapsed}, FallbackValue=Visible}" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,5">There are no pages with links to here</TextBlock>
                            </StackPanel>
                            <ItemsControl ItemsSource="{Binding CurrentSearchItem.LinkBackTable}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <app:LinkBackSelector Content="{Binding}"/>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </StackPanel>
                    </ScrollViewer>
                </DockPanel>
            </TabItem>
            <TabItem Header="Cruncher (under construction)" Visibility="Collapsed">
                <DockPanel>
                    <DockPanel DockPanel.Dock="Top" Margin="5,5,5,5">
                        <TextBlock DockPanel.Dock="Left" VerticalAlignment="Center">Category:</TextBlock>
                        <p:ComboBox DockPanel.Dock="Left" ControlSelectedIndex="{Binding CruncherCategoryIndex, Mode=TwoWay}" VerticalAlignment="Center" Margin="5,0,0,0">
                            <ComboBoxItem>
                                <TextBlock>DPS</TextBlock>
                            </ComboBoxItem>
                        </p:ComboBox>
                        <Button DockPanel.Dock="Right" Command="{StaticResource CrunchCommand}" VerticalAlignment="Center" Width="120" Margin="0,0,5,0">Crunch!</Button>
                    </DockPanel>
                    <Grid>
                        <ScrollViewer>
                            <ItemsControl ItemsSource="{Binding CrunchSelectionList}" ItemTemplate="{StaticResource CrunchSelectionTemplate}"/>
                        </ScrollViewer>
                    </Grid>
                </DockPanel>
            </TabItem>
        </TabControl>
    </Grid>
</p:RootControl>
